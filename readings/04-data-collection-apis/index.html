<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.5.57">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Stephanie Hicks">
<meta name="dcterms.date" content="2024-11-07">
<meta name="description" content="Introduction to JSON files and interacting with APIs with httr2">

<title>Retrieving data from APIs with httr2 – Statistical Programming Paradigms and Workflows</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
/* CSS for syntax highlighting */
pre > code.sourceCode { white-space: pre; position: relative; }
pre > code.sourceCode > span { line-height: 1.25; }
pre > code.sourceCode > span:empty { height: 1.2em; }
.sourceCode { overflow: visible; }
code.sourceCode > span { color: inherit; text-decoration: inherit; }
div.sourceCode { margin: 1em 0; }
pre.sourceCode { margin: 0; }
@media screen {
div.sourceCode { overflow: auto; }
}
@media print {
pre > code.sourceCode { white-space: pre-wrap; }
pre > code.sourceCode > span { display: inline-block; text-indent: -5em; padding-left: 5em; }
}
pre.numberSource code
  { counter-reset: source-line 0; }
pre.numberSource code > span
  { position: relative; left: -4em; counter-increment: source-line; }
pre.numberSource code > span > a:first-child::before
  { content: counter(source-line);
    position: relative; left: -1em; text-align: right; vertical-align: baseline;
    border: none; display: inline-block;
    -webkit-touch-callout: none; -webkit-user-select: none;
    -khtml-user-select: none; -moz-user-select: none;
    -ms-user-select: none; user-select: none;
    padding: 0 4px; width: 4em;
  }
pre.numberSource { margin-left: 3em;  padding-left: 4px; }
div.sourceCode
  {   }
@media screen {
pre > code.sourceCode > span > a:first-child::before { text-decoration: underline; }
}
</style>


<script src="../../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../../site_libs/clipboard/clipboard.min.js"></script>
<script src="../../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../../site_libs/quarto-search/fuse.min.js"></script>
<script src="../../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../../">
<script src="../../site_libs/quarto-html/quarto.js"></script>
<script src="../../site_libs/quarto-html/popper.min.js"></script>
<script src="../../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../../site_libs/quarto-html/anchor.min.js"></script>
<link href="../../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../../site_libs/quarto-html/quarto-syntax-highlighting.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../../site_libs/bootstrap/bootstrap.min.css" rel="stylesheet" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../../styles.css">
</head>

<body class="floating nav-fixed">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top quarto-banner">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../../index.html">
    <span class="navbar-title">Statistical Programming Paradigms and Workflows</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../../index.html"> <i class="bi bi-home" role="img">
</i> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../../lectures.html"> <i class="bi bi-book-half" role="img">
</i> 
<span class="menu-text">Course</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-box-seam-fill" role="img">
</i> 
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="../../readings.html">
 <span class="dropdown-text">Pre-reading</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../../projects.html">
 <span class="dropdown-text">Projects</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/stephaniehicks/jhustatprogramming2024"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<header id="title-block-header" class="quarto-title-block default toc-left page-columns page-full">
  <div class="quarto-title-banner page-columns page-full">
    <div class="quarto-title column-body">
      <h1 class="title">Retrieving data from APIs with <code>httr2</code></h1>
                  <div>
        <div class="description">
          Introduction to JSON files and interacting with APIs with <code>httr2</code>
        </div>
      </div>
                </div>
  </div>
    
  <div class="quarto-title-meta-author">
    <div class="quarto-title-meta-heading">Author</div>
    <div class="quarto-title-meta-heading">Affiliation</div>
    
      <div class="quarto-title-meta-contents">
      <p class="author"><a href="https://www.stephaniehicks.com">Stephanie Hicks</a> </p>
    </div>
    <div class="quarto-title-meta-contents">
          <p class="affiliation">
              Department of Biostatistics, Johns Hopkins
            </p>
        </div>
    </div>

  <div class="quarto-title-meta">

        
      <div>
      <div class="quarto-title-meta-heading">Published</div>
      <div class="quarto-title-meta-contents">
        <p class="date">November 7, 2024</p>
      </div>
    </div>
    
      
    </div>
    
  
  </header><div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
  <nav id="quarto-sidebar" class="sidebar collapse collapse-horizontal quarto-sidebar-collapse-item sidebar-navigation floating overflow-auto">
    <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">Table of contents</h2>
   
  <ul>
  <li><a href="#motivation" id="toc-motivation" class="nav-link active" data-scroll-target="#motivation">Motivation</a>
  <ul class="collapse">
  <li><a href="#raw-vs-clean-data" id="toc-raw-vs-clean-data" class="nav-link" data-scroll-target="#raw-vs-clean-data">“Raw” vs “Clean” data</a></li>
  <li><a href="#what-do-we-mean-by-raw-data" id="toc-what-do-we-mean-by-raw-data" class="nav-link" data-scroll-target="#what-do-we-mean-by-raw-data">What do we mean by “raw” data?</a></li>
  <li><a href="#where-do-data-live" id="toc-where-do-data-live" class="nav-link" data-scroll-target="#where-do-data-live">Where do data live?</a></li>
  </ul></li>
  <li><a href="#best-practices-on-sharing-data" id="toc-best-practices-on-sharing-data" class="nav-link" data-scroll-target="#best-practices-on-sharing-data">Best practices on sharing data</a></li>
  <li><a href="#getting-data" id="toc-getting-data" class="nav-link" data-scroll-target="#getting-data">Getting data</a>
  <ul class="collapse">
  <li><a href="#json-files" id="toc-json-files" class="nav-link" data-scroll-target="#json-files">JSON files</a></li>
  <li><a href="#overview-of-apis" id="toc-overview-of-apis" class="nav-link" data-scroll-target="#overview-of-apis">Overview of APIs</a>
  <ul class="collapse">
  <li><a href="#how-do-apis-work" id="toc-how-do-apis-work" class="nav-link" data-scroll-target="#how-do-apis-work">How do APIs work?</a></li>
  <li><a href="#four-types-of-api-architectures" id="toc-four-types-of-api-architectures" class="nav-link" data-scroll-target="#four-types-of-api-architectures">Four types of API architectures</a></li>
  <li><a href="#how-to-use-an-api" id="toc-how-to-use-an-api" class="nav-link" data-scroll-target="#how-to-use-an-api">How to use an API?</a></li>
  <li><a href="#where-can-i-find-new-apis" id="toc-where-can-i-find-new-apis" class="nav-link" data-scroll-target="#where-can-i-find-new-apis">Where can I find new APIs?</a></li>
  </ul></li>
  </ul></li>
  <li><a href="#github-api" id="toc-github-api" class="nav-link" data-scroll-target="#github-api">GitHub API</a>
  <ul class="collapse">
  <li><a href="#access-the-api-from-r" id="toc-access-the-api-from-r" class="nav-link" data-scroll-target="#access-the-api-from-r">Access the API from R</a></li>
  <li><a href="#access-apis-with-httr2" id="toc-access-apis-with-httr2" class="nav-link" data-scroll-target="#access-apis-with-httr2">Access APIs with <code>httr2</code></a>
  <ul class="collapse">
  <li><a href="#example-github-commits" id="toc-example-github-commits" class="nav-link" data-scroll-target="#example-github-commits">Example: GitHub commits</a></li>
  <li><a href="#authentication" id="toc-authentication" class="nav-link" data-scroll-target="#authentication">Authentication</a></li>
  <li><a href="#example-learn-about-stephanie" id="toc-example-learn-about-stephanie" class="nav-link" data-scroll-target="#example-learn-about-stephanie">Example: Learn about Stephanie</a></li>
  </ul></li>
  <li><a href="#a-bit-of-eda-fun" id="toc-a-bit-of-eda-fun" class="nav-link" data-scroll-target="#a-bit-of-eda-fun">A bit of EDA fun</a></li>
  </ul></li>
  </ul>
</nav>
</nav>
<div id="quarto-sidebar-glass" class="quarto-sidebar-collapse-item" data-bs-toggle="collapse" data-bs-target=".quarto-sidebar-collapse-item"></div>
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar zindex-bottom">
    </div>
<!-- main -->
<main class="content quarto-banner-title-block" id="quarto-document-content">





<p>Before we begin, let’s load a few R packages</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb1"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb1-1"><a href="#cb1-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb1-2"><a href="#cb1-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb1-3"><a href="#cb1-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<section id="motivation" class="level1">
<h1>Motivation</h1>
<p>Today, we are going to talk about getting data from APIs and examples of common data formats.</p>
<p>First, let’s have a bit of a philosophical discussion about data.</p>
<section id="raw-vs-clean-data" class="level2">
<h2 class="anchored" data-anchor-id="raw-vs-clean-data">“Raw” vs “Clean” data</h2>
<p>As data analysts, this is what we wished data looked like whenever we start a project</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/tidy-data-example.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>However, the reality, is data is rarely in that form in comes in all types of <em>“raw”</em> formats that need to be transformed into a <em>“clean”</em> format.</p>
<p>For example, in field of genomics, raw data looks like something like this:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/fastq.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Or if you are interested in analyzing data from Twitter:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/twitter-api.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>Or data from Electronic Healthcare Records (EHRs):</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/ehr.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We all have our scary spreadsheet tales. Here is Jenny Bryan from Posit and UBC actually asking for some of those spreadsheet tales on twitter.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/spreadsheet-tales.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>For example, this is an actual <a href="https://github.com/jennybc/2016-06_spreadsheets/blob/master/2016-06_useR-stanford.pdf">spreadsheet from Enron in 2001</a>:</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/enron-spreadsheet.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="what-do-we-mean-by-raw-data" class="level2">
<h2 class="anchored" data-anchor-id="what-do-we-mean-by-raw-data">What do we mean by “raw” data?</h2>
<p>From <a href="https://simplystatistics.org/posts/2016-07-20-relativity-raw-data/">https://simplystatistics.org/posts/2016-07-20-relativity-raw-data/</a> raw data is defined as data…</p>
<blockquote class="blockquote">
<p>…if you have done no processing, manipulation, coding, or analysis of the data. In other words, the file you received from the person before you is untouched. But it may not be the rawest version of the data. The person who gave you the raw data may have done some computations. They have a different “raw data set”.</p>
</blockquote>
</section>
<section id="where-do-data-live" class="level2">
<h2 class="anchored" data-anchor-id="where-do-data-live">Where do data live?</h2>
<p>Data lives anywhere and everywhere. Data might be stored simply in a <code>.csv</code> or <code>.txt</code> file. Data might be stored in an Excel or Google Spreadsheet. Data might be stored in large databases that require users to write special functions to interact with to extract the data they are interested in.</p>
<p>For example, you may have heard of the terms <code>mySQL</code> or <code>MongoDB</code>.</p>
<p>From <a href="https://en.wikipedia.org/wiki/MySQL">Wikipedia, MySQL</a> is defined as <em>an open-source relational database management system (RDBMS). Its name is a combination of “My”, the name of co-founder Michael Widenius’s daughter,[7] and “SQL”, the abbreviation for Structured Query Language</em>.</p>
<p>From <a href="https://en.wikipedia.org/wiki/MongoDB">Wikipeda, MongoDB</a> is defined as <em>“a free and open-source cross-platform document-oriented database program. Classified as a NoSQL database program, MongoDB uses JSON-like documents with schemata.”</em></p>
<p>So after reading that, we get the sense that there are multiple ways large databases can be structured, data can be formatted and interacted with. In addition, we see that database programs (e.g.&nbsp;MySQL and MongoDB) can also interact with each other.</p>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/databases.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>We will learn more about <code>JSON</code> today and learn about <code>SQL</code> in a later lecture more formally.</p>
</section>
</section>
<section id="best-practices-on-sharing-data" class="level1">
<h1>Best practices on sharing data</h1>
<p>A great article in PeerJ was written titled <a href="https://peerj.com/preprints/3139v5.pdf"><em>How to share data for collaboration</em></a>, in which the authors describe a set of guidelines for sharing data:</p>
<blockquote class="blockquote">
<p>We highlight the need to provide raw data to the statistician, the importance of consistent formatting, and the necessity of including all essential experimental information and pre-processing steps carried out to the statistician. With these guidelines we hope to avoid errors and delays in data analysis. the importance of consistent formatting, and the necessity of including all essential experimental information and pre-processing steps carried out to the statistician.</p>
</blockquote>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/ellis-datashare.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<p>It’s a great paper that describes the information you should pass to a statistician to facilitate the most efficient and timely analysis.</p>
<p>Specifically:</p>
<ol type="1">
<li>The raw data (or the rawest form of the data to which you have access)
<ul>
<li>Should not have modified, removed or summarized any data; Ran no software on data</li>
<li>e.g.&nbsp;strange binary file your measurement machine spits out</li>
<li>e.g.&nbsp;complicated JSON file you scrapped from Twitter Application Programming Interfaces (API)</li>
<li>e.g.&nbsp;hand-entered numbers you collected looking through a microscope</li>
</ul></li>
<li>A clean data set
<ul>
<li>This may or may not be transforming data into a <code>tidy</code> dataset, but possibly yes</li>
</ul></li>
<li>A code book describing each variable and its values in the clean or tidy data set.
<ul>
<li>More detailed information about the measurements in the data set (e.g.&nbsp;units, experimental design, summary choices made)</li>
<li>Doesn’t quite fit into the column names in the spreadsheet</li>
<li>Often reported in a <code>.md</code>, <code>.txt</code> or Word file.</li>
</ul></li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/code-book.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
<ol start="4" type="1">
<li>An explicit and exact recipe you used to go from 1 -&gt; 2,3</li>
</ol>
<div class="cell">
<div class="cell-output-display">
<div>
<figure class="figure">
<p><img src="https://github.com/jtleek/advdatasci/raw/master/imgs/recipe-best.png" class="img-fluid figure-img"></p>
</figure>
</div>
</div>
</div>
</section>
<section id="getting-data" class="level1">
<h1>Getting data</h1>
<section id="json-files" class="level2">
<h2 class="anchored" data-anchor-id="json-files">JSON files</h2>
<p>JSON (or JavaScript Object Notation) is a file format that stores information in human-readable, organized, logical, easy-to-access manner.</p>
<p>For example, here is what a JSON file looks like:</p>
<div class="sourceCode" id="cb2"><pre class="sourceCode md code-with-copy"><code class="sourceCode markdown"><span id="cb2-1"><a href="#cb2-1" aria-hidden="true" tabindex="-1"></a>var stephanie = {</span>
<span id="cb2-2"><a href="#cb2-2" aria-hidden="true" tabindex="-1"></a>    "job-title" : "Associate Professor",</span>
<span id="cb2-3"><a href="#cb2-3" aria-hidden="true" tabindex="-1"></a>    "hometown" : "Baltimore, MD",</span>
<span id="cb2-4"><a href="#cb2-4" aria-hidden="true" tabindex="-1"></a>    "pronouns": "she/her",</span>
<span id="cb2-5"><a href="#cb2-5" aria-hidden="true" tabindex="-1"></a>  "states-lived" : {</span>
<span id="cb2-6"><a href="#cb2-6" aria-hidden="true" tabindex="-1"></a>    "state1" : "Louisiana",</span>
<span id="cb2-7"><a href="#cb2-7" aria-hidden="true" tabindex="-1"></a>    "state2" : "Texas",</span>
<span id="cb2-8"><a href="#cb2-8" aria-hidden="true" tabindex="-1"></a>    "state3" : "Massachusetts",</span>
<span id="cb2-9"><a href="#cb2-9" aria-hidden="true" tabindex="-1"></a>    "state4" : "Maryland"</span>
<span id="cb2-10"><a href="#cb2-10" aria-hidden="true" tabindex="-1"></a>  }</span>
<span id="cb2-11"><a href="#cb2-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<p>Some features about <code>JSON</code> objects:</p>
<ul>
<li>JSON objects are surrounded by curly braces <code>{}</code></li>
<li>JSON objects are written in key/value pairs</li>
<li>Keys must be strings, and values must be a valid JSON data type (string, number, object, array, boolean)</li>
<li>Keys and values are separated by a colon</li>
<li>Each key/value pair is separated by a comma</li>
</ul>
</section>
<section id="overview-of-apis" class="level2">
<h2 class="anchored" data-anchor-id="overview-of-apis">Overview of APIs</h2>
<p><a href="https://aws.amazon.com/what-is/api/">From AWS</a>, API stands for <strong>Application Programming Interface</strong>.</p>
<ul>
<li>“Application” = any <strong>software</strong> with a distinct function</li>
<li>“Interface” = a <strong>contract of service</strong> between two applications. This contract defines how the two communicate with each other using requests and responses.</li>
</ul>
<p>The <strong>API documentation</strong> contains information on how developers are to structure those requests and responses.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Purpose of APIs
</div>
</div>
<div class="callout-body-container callout-body">
<p>The purpose of APIs is enable two software components to communicate with each other using a set of definitions and protocols.</p>
<p>For example, the weather bureau’s software system contains daily weather data. The weather app on your phone “talks” to this system via APIs and shows you daily weather updates on your phone.</p>
</div>
</div>
<section id="how-do-apis-work" class="level3">
<h3 class="anchored" data-anchor-id="how-do-apis-work">How do APIs work?</h3>
<p>To understand how APIs work, two terms that are important are</p>
<ol type="1">
<li><strong>client</strong>. This is the application sending the request.</li>
<li><strong>server</strong>. This is the application sending the response.</li>
</ol>
<p>So in the weather example, the bureau’s weather database is the server, and the mobile app is the client.</p>
</section>
<section id="four-types-of-api-architectures" class="level3">
<h3 class="anchored" data-anchor-id="four-types-of-api-architectures">Four types of API architectures</h3>
<p>There are four different ways that APIs can work depending on when and why they were created.</p>
<ol type="1">
<li><p><strong>SOAP APIs</strong>. These APIs use <strong>Simple Object Access Protocol</strong>. Client and server exchange messages using XML. This is a less flexible API that was more popular in the past.</p></li>
<li><p><strong>RPC APIs</strong>. These APIs are called <strong>Remote Procedure Calls</strong>. The client completes a function (or procedure) on the server, and the server sends the output back to the client.</p></li>
<li><p><strong>Websocket APIs</strong>. Websocket API is another <strong>modern web</strong> API development that uses JSON objects to pass data. A WebSocket API supports two-way communication between client apps and the server. The server can send callback messages to connected clients, making it more efficient than REST API.</p></li>
<li><p><strong>REST APIs</strong>. REST stands for <strong>Representational State Transfer</strong> (and are the most popular and flexible APIs). The client sends requests to the server as data. The server uses this client input to start internal functions and returns output data back to the client. REST defines a set of functions like GET, PUT, DELETE, etc. that clients can use to access server data. Clients and servers exchange data using HTTP.</p></li>
</ol>
<p>The main feature of REST API is <strong>statelessness</strong> (i.e.&nbsp;servers do not save client data between requests). Client requests to the server are similar to URLs you type in your browser to visit a website. The response from the server is plain data, without the typical graphical rendering of a web page.</p>
</section>
<section id="how-to-use-an-api" class="level3">
<h3 class="anchored" data-anchor-id="how-to-use-an-api">How to use an API?</h3>
<p>The basic steps to using an API are:</p>
<ol type="1">
<li><strong>Obtaining an API key</strong>. This is done by creating a verified account with the API provider.</li>
<li><strong>Set up an HTTP API client</strong>. This tool allows you to structure API requests easily using the API keys received. Here, we will use functions from the <code>httr2</code> package (which is the next generation of the <code>httr</code> package).</li>
<li>If you don’t have an API client, you can try to structure the request yourself in your browser by referring to the API documentation.</li>
<li>Once you are comfortable with the new API syntax, you can start using it in your code.</li>
</ol>
</section>
<section id="where-can-i-find-new-apis" class="level3">
<h3 class="anchored" data-anchor-id="where-can-i-find-new-apis">Where can I find new APIs?</h3>
<p>New web APIs can be found on API marketplaces and API directories, such as:</p>
<ul>
<li><a href="https://rapidapi.com/">Rapid API</a> – One of the largest global API markets (10k+ public APIs). Users to test APIs directly on the platform before committing to purchase.</li>
<li><a href="https://documenter.getpostman.com/view/8854915/Szf7znEe">Public REST APIs</a> – Groups REST APIs into categories, making it easier to browse and find the right one to meet your needs.</li>
<li><a href="https://apiforthat.posthaven.com/">APIForThat</a> and <a href="https://apilist.fun">APIList</a> – Both these websites have lists of 500+ web APIs, along with in-depth information on how to use them.</li>
</ul>
</section>
</section>
</section>
<section id="github-api" class="level1">
<h1>GitHub API</h1>
<p>The <a href="https://docs.github.com/en/rest">GitHub REST API</a> may be of interest when studying online communities, working methods, organizational structures, communication and discussions, etc. with a focus on (open-source) software development.</p>
<p>Many projects that are hosted on GitHub are open-source projects with a transparent development process and communications. For private projects, which can also be hosted on GitHub, there’s understandably only a few aggregate data available.</p>
<p>Let’s say we want to use the <a href="https://docs.github.com/en/rest">GitHub REST API</a> to find out how many of my GitHub repositories have open issues?</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Pro-tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>The API can be used for free and you can send up to 60 requests per hour if you are not authenticated (i.e.&nbsp;if you don’t provide an API key).</p>
<p>For serious data collection, this is not much, so it is recommended to sign up on GitHub and generate a personal access token that acts as API key.</p>
<p>This token can then be used to authenticate your API requests. Your quota is then 5000 requests per hour.</p>
</div>
</div>
<section id="access-the-api-from-r" class="level2">
<h2 class="anchored" data-anchor-id="access-the-api-from-r">Access the API from R</h2>
<p>There are packages for many programming languages that provide convenient access for communicating with the GitHub API, but there are no such packages (that I’m aware of) for accessing the API from R.</p>
<p>This means we can only access the API directly, e.g.&nbsp;by using the <a href="https://cran.r-project.org/web/packages/jsonlite/index.html"><code>jsonlite</code></a> package to fetch the data and convert it to an R <code>list</code> or <code>data.frame</code>.</p>
<p>Specifically, we will use the <code>jsonlite::read_json()</code> function to read a JSON file into a data frame.</p>
<p>The JSON file is located at <a href="https://api.github.com/users/stephaniehicks/repos" class="uri">https://api.github.com/users/stephaniehicks/repos</a>.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb3"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>github_url <span class="ot">&lt;-</span> <span class="st">"https://api.github.com/users/stephaniehicks/repos"</span></span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(tidyverse)</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a>jsonData <span class="ot">&lt;-</span> <span class="fu">read_json</span>(github_url, <span class="at">simplifyVector =</span> <span class="cn">TRUE</span>)</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="fu">glimpse</span>(jsonData)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>Rows: 30
Columns: 79
$ id                          &lt;int&gt; 160194123, 132884754, 647539937, 225501707…
$ node_id                     &lt;chr&gt; "MDEwOlJlcG9zaXRvcnkxNjAxOTQxMjM=", "MDEwO…
$ name                        &lt;chr&gt; "2018-bioinfosummer-scrnaseq", "advdatasci…
$ full_name                   &lt;chr&gt; "stephaniehicks/2018-bioinfosummer-scrnase…
$ private                     &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ owner                       &lt;df[,19]&gt; &lt;data.frame[26 x 19]&gt;
$ html_url                    &lt;chr&gt; "https://github.com/stephaniehicks/201…
$ description                 &lt;chr&gt; NA, NA, "Repo to share code for the atlas-…
$ fork                        &lt;lgl&gt; FALSE, TRUE, FALSE, TRUE, TRUE, FALSE, FAL…
$ url                         &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ forks_url                   &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ keys_url                    &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ collaborators_url           &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ teams_url                   &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ hooks_url                   &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ issue_events_url            &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ events_url                  &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ assignees_url               &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ branches_url                &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ tags_url                    &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ blobs_url                   &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ git_tags_url                &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ git_refs_url                &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ trees_url                   &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ statuses_url                &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ languages_url               &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ stargazers_url              &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ contributors_url            &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ subscribers_url             &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ subscription_url            &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ commits_url                 &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ git_commits_url             &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ comments_url                &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ issue_comment_url           &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ contents_url                &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ compare_url                 &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ merges_url                  &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ archive_url                 &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ downloads_url               &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ issues_url                  &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ pulls_url                   &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ milestones_url              &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ notifications_url           &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ labels_url                  &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ releases_url                &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ deployments_url             &lt;chr&gt; "https://api.github.com/repos/stephaniehic…
$ created_at                  &lt;chr&gt; "2018-12-03T13:20:45Z", "2018-05-10T10:22:…
$ updated_at                  &lt;chr&gt; "2019-08-08T02:18:17Z", "2018-05-10T10:22:…
$ pushed_at                   &lt;chr&gt; "2018-12-05T17:07:09Z", "2017-12-18T17:18:…
$ git_url                     &lt;chr&gt; "git://github.com/stephaniehicks/2018-bioi…
$ ssh_url                     &lt;chr&gt; "git@github.com:stephaniehicks/2018-bioinf…
$ clone_url                   &lt;chr&gt; "https://github.com/stephaniehicks/2018-bi…
$ svn_url                     &lt;chr&gt; "https://github.com/stephaniehicks/2018-bi…
$ homepage                    &lt;chr&gt; NA, NA, NA, NA, NA, "", NA, NA, NA, NA, NA…
$ size                        &lt;int&gt; 60296, 172353, 8866, 121, 675, 26688, 20, …
$ stargazers_count            &lt;int&gt; 4, 0, 2, 1, 0, 0, 1, 8, 0, 1, 0, 15, 3, 0,…
$ watchers_count              &lt;int&gt; 4, 0, 2, 1, 0, 0, 1, 8, 0, 1, 0, 15, 3, 0,…
$ language                    &lt;chr&gt; "TeX", "HTML", "R", NA, NA, "R", "R", "Jup…
$ has_issues                  &lt;lgl&gt; TRUE, FALSE, TRUE, FALSE, FALSE, TRUE, TRU…
$ has_projects                &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …
$ has_downloads               &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …
$ has_wiki                    &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …
$ has_pages                   &lt;lgl&gt; TRUE, FALSE, FALSE, FALSE, FALSE, FALSE, F…
$ has_discussions             &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ forks_count                 &lt;int&gt; 4, 0, 1, 0, 1, 0, 0, 2, 0, 0, 0, 4, 1, 1, …
$ mirror_url                  &lt;lgl&gt; NA, NA, NA, NA, NA, NA, NA, NA, NA, NA, NA…
$ archived                    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ disabled                    &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ open_issues_count           &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ license                     &lt;df[,5]&gt; &lt;data.frame[26 x 5]&gt;
$ allow_forking               &lt;lgl&gt; TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, TRUE, …
$ is_template                 &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALS…
$ web_commit_signoff_required &lt;lgl&gt; FALSE, FALSE, FALSE, FALSE, FALSE, FALSE, …
$ topics                      &lt;list&gt; &lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;, &lt;&gt;…
$ visibility                  &lt;chr&gt; "public", "public", "public", "public", "p…
$ forks                       &lt;int&gt; 4, 0, 1, 0, 1, 0, 0, 2, 0, 0, 0, 4, 1, 1,…
$ open_issues                 &lt;int&gt; 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, 0, …
$ watchers                    &lt;int&gt; 4, 0, 2, 1, 0, 0, 1, 8, 0, 1, 0, 15, 3, 0,…
$ default_branch              &lt;chr&gt; "master", "master", "main", "master", "mas…</code></pre>
</div>
</div>
<p>We see this has returned a data frame with the argument <code>simplifyVector</code> which converts the output from a list to a dataframe.</p>
<p>However, from here, we see that there are only 30 rows (or 30 repositories). If you look on my github page, you can see there are more than 30 repositories.</p>
<ul>
<li><a href="https://github.com/stephaniehicks?tab=repositories" class="uri">https://github.com/stephaniehicks?tab=repositories</a></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
APIs limit info from users
</div>
</div>
<div class="callout-body-container callout-body">
<p>What’s happening is called <strong>pagination</strong>.</p>
<p>At a high-level, the API is limiting the amount of items a user gets and <strong>splitting it into pages</strong>.</p>
<p>Formally, pagination is the process of splitting the contents or a section of a website into discrete pages. Users tend to get lost when there’s bunch of data and with pagination splitting they can concentrate on a particular amount of content. Hierarchy and paginated structure improve the readability score of the content.</p>
<p>In this use case Github api splits the result into 30 items per resonse, depends on the request</p>
</div>
</div>
<p><strong>Solution</strong>: You should explicitly specify in your request how many items you would like to receive from server pagination engine, using formula for Github pagination api:</p>
<p><code>?page=1&amp;per_page=&lt;numberOfItemsYouSpecify&gt;"</code></p>
<p>You can read more about pagination here:</p>
<ul>
<li><a href="https://docs.github.com/en/rest/guides/using-pagination-in-the-rest-api" class="uri">https://docs.github.com/en/rest/guides/using-pagination-in-the-rest-api</a></li>
</ul>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Example
</div>
</div>
<div class="callout-body-container callout-body">
<p>Here we can visit this website:</p>
<ul>
<li><a href="https://api.github.com/users/stephaniehicks/repos?page=1&amp;per_page=1000" class="uri">https://api.github.com/users/stephaniehicks/repos?page=1&amp;per_page=1000</a></li>
</ul>
<p>And see there are more than 30 repos. Let’s read it into R.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb5"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb5-1"><a href="#cb5-1" aria-hidden="true" tabindex="-1"></a>github_url <span class="ot">=</span> <span class="st">"https://api.github.com/users/stephaniehicks/repos?page=1&amp;per_page=1000"</span></span>
<span id="cb5-2"><a href="#cb5-2" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb5-3"><a href="#cb5-3" aria-hidden="true" tabindex="-1"></a>jsonDataAll <span class="ot">&lt;-</span> <span class="fu">read_json</span>(github_url, <span class="at">simplifyVector =</span> <span class="cn">TRUE</span>)</span>
<span id="cb5-4"><a href="#cb5-4" aria-hidden="true" tabindex="-1"></a><span class="fu">dim</span>(jsonDataAll)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>[1] 92 79</code></pre>
</div>
</div>
<p>We now get all the public repositories! yay!</p>
</div>
</div>
</section>
<section id="access-apis-with-httr2" class="level2">
<h2 class="anchored" data-anchor-id="access-apis-with-httr2">Access APIs with <code>httr2</code></h2>
<p>There are a set of <a href="https://docs.oracle.com/en/cloud/saas/marketing/eloqua-develop/Developers/GettingStarted/APIRequests/HTTP-verbs.htm">basic HTTP verbs</a> that allow you access a set of <strong>endpoints</strong>.</p>
<p>The basic request patterns are:</p>
<ul>
<li>Retrieve a single item (GET)</li>
<li>Retrieve a list of items (GET)</li>
<li>Create an item (POST)</li>
<li>Update an item (PUT)</li>
<li>Delete an item (DELETE)</li>
</ul>
<section id="example-github-commits" class="level3">
<h3 class="anchored" data-anchor-id="example-github-commits">Example: GitHub commits</h3>
<p>Let’s say you want to retrieve information about the latest commits from a GitHub repository. We will use <code>httr2</code> to make a request to the GitHub API for a repository of your choice. Later on we will make this an <strong>authenticated HTTP response</strong> to the GitHub API.</p>
<p>First, we make sure we have the <code>httr2</code> package installed and loaded. We’ll also need <code>jsonlite</code> package for handling JSON files and <code>dplyr</code> for data wrangling.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb7"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(httr2)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(jsonlite)</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(dplyr)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now we will set up our <strong>request</strong> to the GitHub API. The GitHub API endpoint for getting the latest commits in a repository is at <code>https://api.github.com/repos/{owner}/{repo}/commits</code>.</p>
<p>For this example, we’ll look at the latest commits for the tidyverse/dplyr repository. We will use <code>httr2::request()</code> function to set up the request, (and later on we will add authentication – optional, but recommended for higher rate limits), and parse the response.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb8"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb8-1"><a href="#cb8-1" aria-hidden="true" tabindex="-1"></a>owner <span class="ot">&lt;-</span> <span class="st">"tidyverse"</span></span>
<span id="cb8-2"><a href="#cb8-2" aria-hidden="true" tabindex="-1"></a>repo <span class="ot">&lt;-</span> <span class="st">"dplyr"</span></span>
<span id="cb8-3"><a href="#cb8-3" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://api.github.com/repos/"</span>, owner, <span class="st">"/"</span>, repo, <span class="st">"/commits"</span>)</span>
<span id="cb8-4"><a href="#cb8-4" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-5"><a href="#cb8-5" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb8-6"><a href="#cb8-6" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">request</span>(url) <span class="sc">%&gt;%</span></span>
<span id="cb8-7"><a href="#cb8-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_perform</span>()</span>
<span id="cb8-8"><a href="#cb8-8" aria-hidden="true" tabindex="-1"></a>response</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stderr">
<pre><code>&lt;httr2_response&gt;</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>GET https://api.github.com/repos/tidyverse/dplyr/commits</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Status: 200 OK</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Content-Type: application/json</code></pre>
</div>
<div class="cell-output cell-output-stderr">
<pre><code>Body: In memory (146056 bytes)</code></pre>
</div>
</div>
<p>Next, we can see if the response was successful.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb14"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Check if the response was successful</span></span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">resp_status</span>(response) <span class="sc">==</span> <span class="dv">200</span>) {</span>
<span id="cb14-3"><a href="#cb14-3" aria-hidden="true" tabindex="-1"></a>  <span class="co"># Parse JSON response into an R list</span></span>
<span id="cb14-4"><a href="#cb14-4" aria-hidden="true" tabindex="-1"></a>  commits <span class="ot">&lt;-</span> <span class="fu">resp_body_json</span>(response, <span class="at">simplifyVector =</span> <span class="cn">TRUE</span>)</span>
<span id="cb14-5"><a href="#cb14-5" aria-hidden="true" tabindex="-1"></a>  </span>
<span id="cb14-6"><a href="#cb14-6" aria-hidden="true" tabindex="-1"></a>  <span class="co"># View the first few rows of the commits data</span></span>
<span id="cb14-7"><a href="#cb14-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">head</span>(commits)</span>
<span id="cb14-8"><a href="#cb14-8" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb14-9"><a href="#cb14-9" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Failed to retrieve data. Status code: "</span>, <span class="fu">resp_status</span>(response))</span>
<span id="cb14-10"><a href="#cb14-10" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>                                       sha
1 fb25640fa1eb74746a7a74a06090045106e5d20f
2 e4e9a295a373b85e02ae084a23f12e9212a72b98
3 1d17672a54305170dc75c251f8ae69a85c0bea37
4 cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84
5 85e94fcde02ad49c77510991078899278489fd8f
6 e0555277878ed174d40bda86690674ecdc27db55
                                                                node_id
1 C_kwDOAGIUpdoAKGZiMjU2NDBmYTFlYjc0NzQ2YTdhNzRhMDYwOTAwNDUxMDZlNWQyMGY
2 C_kwDOAGIUpdoAKGU0ZTlhMjk1YTM3M2I4NWUwMmFlMDg0YTIzZjEyZTkyMTJhNzJiOTg
3 C_kwDOAGIUpdoAKDFkMTc2NzJhNTQzMDUxNzBkYzc1YzI1MWY4YWU2OWE4NWMwYmVhMzc
4 C_kwDOAGIUpdoAKGNmYjI1YTAzMGY5ZjdjMzlmNzdmZWQyYzk3ZjNmYTdiMTVhNTVlODQ
5 C_kwDOAGIUpdoAKDg1ZTk0ZmNkZTAyYWQ0OWM3NzUxMDk5MTA3ODg5OTI3ODQ4OWZkOGY
6 C_kwDOAGIUpdoAKGUwNTU1Mjc3ODc4ZWQxNzRkNDBiZGE4NjY5MDY3NGVjZGMyN2RiNTU
    commit.author.name                         commit.author.email
1        Kirill Müller                           kirill@cynkra.com
2        Davis Vaughan                           davis@rstudio.com
3              Mike Du 58779940+ilovemane@users.noreply.github.com
4                 Adam                       adampeterso@gmail.com
5 Núria Mercadé-Besora 61558739+nmercadeb@users.noreply.github.com
6           James Wade                       github@jameshwade.com
    commit.author.date commit.committer.name commit.committer.email
1 2024-11-02T17:43:50Z         Kirill Müller      kirill@cynkra.com
2 2024-10-01T15:53:13Z                GitHub     noreply@github.com
3 2024-08-27T16:31:39Z                GitHub     noreply@github.com
4 2024-08-27T16:30:57Z                GitHub     noreply@github.com
5 2024-08-27T15:51:07Z                GitHub     noreply@github.com
6 2024-08-27T15:40:46Z                GitHub     noreply@github.com
  commit.committer.date
1  2024-11-02T17:44:39Z
2  2024-10-01T15:53:13Z
3  2024-08-27T16:31:39Z
4  2024-08-27T16:30:57Z
5  2024-08-27T15:51:07Z
6  2024-08-27T15:40:46Z
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                        commit.message
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              Move to tidyverse, already applied manually to gh-pages
2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                  Remove not needed `new_expanded_quosures()` (#7090)
3                                                                                                                                                                                                                                                                                               Add error message when passing an array in `conditions` (#7069)\n\n* add error message when passing a matrix\r\n\r\ntidyverse day\r\n\r\n* Update test-vec-case-when.R\r\n\r\n* fixes\r\n\r\n* Tweaks\r\n\r\n* NEWS bullet\r\n\r\n* Update snap\r\n\r\n---------\r\n\r\nCo-authored-by: Davis Vaughan &lt;davis@posit.co&gt;
4                                                                                                                                                                                                                                                                   Add documentation clarifying appropriate use of weights in `slice_sample()` (#7052)\n\n* Add documentation clarifying appropriate use of weights in dplyr's `slice_sample()`.\r\n\r\n* Add documentation to relevant .Rd file.\r\n\r\n* Tweak documentation placement a bit\r\n\r\n---------\r\n\r\nCo-authored-by: Davis Vaughan &lt;davis@posit.co&gt;
5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                           Document that `group_by()` works with data-masking (#7071)
6 Add a `ptype` argument to `between()` (#7073)\n\n* add ptype argument to between Fixes #6906\r\n\r\n* update NEWS with ptype argument\r\n\r\n* document() and add tests\r\n\r\n* add back see also\r\n\r\n* add back see also\r\n\r\n* Redocument\r\n\r\n* Trim trailing whitespace\r\n\r\n* Remove extra line\r\n\r\n* Minor docs tweaks\r\n\r\n* require names ptype, update tests, update function documentation\r\n\r\n* remove unnecessary if else blocks\r\n\r\n* Tweak NEWS bullet\r\n\r\n* A few more tweaks\r\n\r\n* Few more tweaks\r\n\r\n---------\r\n\r\nCo-authored-by: Davis Vaughan &lt;davis@posit.co&gt;
                           commit.tree.sha
1 5aaa2c4dcdabd6c8303b660f15c963740193eb17
2 8299635297b6b5e61c9522b525a5414993405e08
3 9144e07c3b09886b79b64a76904501f565f1b6c8
4 3d6a95112c5bc59e6a60d245704984e722aeacad
5 852e02c951972c5a4e9a831c68e2425085e7fdd5
6 18d4e6763ceb64f3967f9addb712ad0878798b38
                                                                                  commit.tree.url
1 https://api.github.com/repos/tidyverse/dplyr/git/trees/5aaa2c4dcdabd6c8303b660f15c963740193eb17
2 https://api.github.com/repos/tidyverse/dplyr/git/trees/8299635297b6b5e61c9522b525a5414993405e08
3 https://api.github.com/repos/tidyverse/dplyr/git/trees/9144e07c3b09886b79b64a76904501f565f1b6c8
4 https://api.github.com/repos/tidyverse/dplyr/git/trees/3d6a95112c5bc59e6a60d245704984e722aeacad
5 https://api.github.com/repos/tidyverse/dplyr/git/trees/852e02c951972c5a4e9a831c68e2425085e7fdd5
6 https://api.github.com/repos/tidyverse/dplyr/git/trees/18d4e6763ceb64f3967f9addb712ad0878798b38
                                                                                         commit.url
1 https://api.github.com/repos/tidyverse/dplyr/git/commits/fb25640fa1eb74746a7a74a06090045106e5d20f
2 https://api.github.com/repos/tidyverse/dplyr/git/commits/e4e9a295a373b85e02ae084a23f12e9212a72b98
3 https://api.github.com/repos/tidyverse/dplyr/git/commits/1d17672a54305170dc75c251f8ae69a85c0bea37
4 https://api.github.com/repos/tidyverse/dplyr/git/commits/cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84
5 https://api.github.com/repos/tidyverse/dplyr/git/commits/85e94fcde02ad49c77510991078899278489fd8f
6 https://api.github.com/repos/tidyverse/dplyr/git/commits/e0555277878ed174d40bda86690674ecdc27db55
  commit.comment_count commit.verification.verified commit.verification.reason
1                    0                        FALSE                   unsigned
2                    0                         TRUE                      valid
3                    0                         TRUE                      valid
4                    0                         TRUE                      valid
5                    0                         TRUE                      valid
6                    0                         TRUE                      valid
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                      commit.verification.signature
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                              &lt;NA&gt;
2 -----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJm/BrpCRC1aQ7uu5UhlAAApk0QABIAjfuu47L1gaXmicgRMYpN\nTs1JfHO7zGxafb5QYqgk80yH/w+XsqHt+Q2Xd3JLvIYSWBJ4IAuKU+R4vBOF6yhW\nDprWxU3K0bLeOc9ycmH21WUPSBNjw/dhyFkMULBa6ZbZhsfPddb8OhPSw02ze/Rw\n9oQSVIWC5ZGIHwBp4/dvrdmQ7ztwmFnTp8uegpIdLdfpqCereJdV74VYx7TrGYB4\n/+48s84H2X2p/P3h15riv5t+545uhrMZMP9RspV7etRju4mloG5EP2zpLPgxrCIi\nLhmpZdjKgrOc0AlocOWyjcGzRLSgExYV0bTeJnTpxqZRsZzkM5JMEGEnPCBP5OD3\nd+PGv+l7WeOioB8+r5Sz+asoWqEfv2rfrjibqZpT4BSwV+R4+4p0NFtzOZpBzrCz\nd+7mu0PWyLP4H7RQ0vWNZTMP3YYpQoEL5FX+X9qKKuFnob8n6W4Fje/B1ru4cYip\nvI7sX43WLQ9X32x7FleFHsFAZDKSg8x/QXlJ2T1/VZSv0ge4M/wg5YmzhPi17xSl\n7JcizRSKzqZDtDiIZQD2FjnVMNdL1LsjbnbWJGf02KejxFkgsYa2oEos2ekouilL\n+xswdRrF8Fuh8KNCMc3MGO3nQovjMGgMoaFaYetXhYOTUSGAfQJBOOpNrH0vzf6g\nOSuaLjJrCYFv0IIxdtrA\n=kx9G\n-----END PGP SIGNATURE-----\n
3 -----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJmzf9rCRC1aQ7uu5UhlAAA+k4QADkSbzuLgeAvxtczSazlRvuW\nAYPlvaK02ndKbIY8Ucwp/wyTGgorMH2kC3g3r0cy1bwVHvsNp0gt1S3tbxdvXXEA\n8R0+pHSxgDvzCIkZdE5WJpN1VjQVYAmqRzeVt9ieifuBGVWapIn26fDPndXswPWq\nQWDKh6tZn5wsfWiclR4TSKIcqOrva7AzegB0iyF/8kKer7jOuG/R5OQoTGJoXwlR\nzGdI+JxKBnY9Q24SBo5xruKq3LKQIWUiICm48aFQ35JbsT83v+RuiAfMkrn1C0RM\nQdN0820iz5/oShO5iIXvcIBZSZhSjQ/EQkv394YS0N4gElGwEbXQIOon5nZIzK3d\n7jtXerms96sjUCOXyb0fB6YnbNEA3/Tiq7x61Fy6uUSrblewhd5AXNZu9/aJwvYv\nOj1BoMdr/HSIUnHl11+90Y0RIA66WsHNCZLKm3L2DAlYczGmL/zcFNivH/3epmlB\nMirSkqfuK1AYzaH5z8Fpu9UOkEVw18L+gFwn2fTye3rxzoy6Lr8R9eT/VAUtZCQV\ng3LurvIWjHe1NNVxeQ702E1ACBXcUhD4Bfqij1QZeEFP7bsIo+ggcyyEIn56ayEO\nSmGMb76kcBciL44oU8fAuzWK8nVVA54iM4ecJltYhp1o3tOFpJ+fQA4n5hxFYgc4\nU+1DPZvop1yluVlV1vVV\n=AwJu\n-----END PGP SIGNATURE-----\n
4 -----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJmzf9BCRC1aQ7uu5UhlAAA68AQAEtPIx3MrOwvPhjYi4mbBvZJ\n/EeNZqaiHoanezr8L+AR0Fym/Asnf5h35+t4PDYU/JqGdND/es0LB6GxH3YMNUsK\n6PrGbv4CMs3Ary5si5c7ynAlASCnbcMrvbIUM0UWzWd5eV+am0irDFmZc20g5Wt/\ngZPYGNKK0D3RWM2KP5O6a67zm9ipuqNbAkGRat9qehxvTEblnB/v8jHZGy5WpTjw\nZDxrdgdCHWCHM48viFsJlbEm8V17tFJ/ipy6JthZy7Ei1JyWpmuc28y3VqrofIDF\n58OdA6RA7JDvfhWPFKq9RKjgfSXp5hgz+5edSwc9fTS77KL9MDq8ZK+Mhm12F3x+\nzAb8fdajL4YwTjquwUfKJWYEgrc39vmFo/G84+VtYuRRvi2T8BFlXqTsEw3z109Y\nfFzem/3R0PFn/+M68dzh931G52JEkhlcowR/Dy+cy1bgnWlEDOHZQQUtFGsuRJ/T\nxOByNQ3GIiqxR+40VREeByXuCdLCOrD0KiggwNBIbUb9AU4fwvS3LNxDZLMB8gzJ\n+DRTH/uMwwlySvf/gn5NvlasXVnLSTuMCi/DBEUMFpOkfeUG63stOuiiqn0p9ll8\nHuAsLVT72uZOYOMiW+MsskehXZKKnOUlzv4JfoakFIEFMwBSDAdfsq9hWYtdZ9so\ndNwPfMuZLou4JZ4kNJoP\n=2gy1\n-----END PGP SIGNATURE-----\n
5 -----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJmzfXrCRC1aQ7uu5UhlAAAGIkQAAWFfWEtO+rNEL4oWHAm0Fdx\ncKsyfH/j+eIZDIwJ7KF9hcd1VLeVO96lxCtAqW2/x7lYReM/NyfBtz0nQuwaVM01\nstesFeyJZDclN2LgHWPwuq9QM3Gt2M1hrmguDvb6oM5rvT2W0XXKNS5TlPKx3TeU\nZT1RIFfndFuvifQlZjmYMaDI9kLQS8kQtQCTjuv3Ei57uWEAbkj5r2w6SA8HA8Ti\nQxCOWzQ8FTPqyvb3iev3xLmJvXXNr+AJXbJRkIZA3Pwu8CCOmpmf6H6HeBQqMzaG\nkjqX5uqzmyAyf38z7Y+yALQkPySQbNp/de2jea1hrq7v2W78cR4+gIzti09Y1Q9R\nhi5PIXwsykb4XKdZXl3kQfEBxBh7iIbBOglLPHMDRVolQMmj6S9ezjnn0FkpXdKE\nnCPGPI/+6MzTeSPrinfO7wUpXNQocVwBEUV8Qvv8Rc/uHbKw6FLPofZepJ+Z2UmA\npyEvwcADNGXhJM8Ef9O3tdDFhdV5bSORW9bhQh97l9yPneB5+Rui1ftiqKjqR0pC\n9uPNrMoexCc1O/uEv5CotGjViOJrdzbqJxBWO9BD8i8LKNI/Fiuu4OHMQsXwxHye\nqSPrOx4zrAxrg/qn9hEPQFjj+sHwjUV3dHgpSCSqzmLZzPYrAKQS7BMERogzgNke\nT9u5cp6sbK4eI414nNvP\n=4+mC\n-----END PGP SIGNATURE-----\n
6 -----BEGIN PGP SIGNATURE-----\n\nwsFcBAABCAAQBQJmzfN+CRC1aQ7uu5UhlAAAL3cQABd/cNjfNWYYv/iRI12OoHJF\n8Sqp/50IfyuyMgEJT4wGstAUi/Z632TGTQEsEBuvVbrsmlRH6myYEXIUWGEv2RM2\nD4bgykku0rZCeIJFyMjCrnMK1NYOrp3RoqD7HlWFzvpW5ZzNyXZPwafeYvsakh5K\nPt1V4WjYzEioPWTJIgAKEUr8Pr3zePCO0zY7NXAhsgobaxUK0PcDoTt0WeHkxhBL\nwt2f+FylBKSbh3Fw6zv2xINGxEQWwSWa3EZTvsu5s3aTl0OOtz/1vLQ+gCYqhU9Z\n4VHdgj0j2+AbETBPiou8E/szSuuffRTwgSkobbAkgOF6uyFg3gxRM7zjXsDiN4o6\nwxNx72y1/tDanfUCRX/e3zcUh8gqtB4RggHoKtdun7UnAck+kgCeMH+ru5eNINxH\n9K/1xL70FoasI0Kd9k4L0Q2YsoXOhgHVoQFBKC0AgiIWaJrjpx/C+MeMeXj/XgNm\nQfybWEiXHL9S4jq0Wy/3he0BvwwiHcy682/FyeVx0fxUEHw4DzL0LkcBctm+yUKS\n3MFADYcgTiVlafXFdej9mtiElSGINNh/C83Vj+LQdG6axzHeiWX6mGiRCgfEZhpT\n+XhMnpI7XyQoeSyREnuVUx+E2PWsqG0gFocq0KV3UDnc5ZGE3JtH2L9w6CKlW7YA\n8RlhDNCiHgAk2O7S2iE/\n=Z8qV\n-----END PGP SIGNATURE-----\n
                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                 commit.verification.payload
1                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       &lt;NA&gt;
2                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                               tree 8299635297b6b5e61c9522b525a5414993405e08\nparent 1d17672a54305170dc75c251f8ae69a85c0bea37\nauthor Davis Vaughan &lt;davis@rstudio.com&gt; 1727797993 -0400\ncommitter GitHub &lt;noreply@github.com&gt; 1727797993 -0400\n\nRemove not needed `new_expanded_quosures()` (#7090)\n\n
3                                                                                                                                                                                                                                                                            tree 9144e07c3b09886b79b64a76904501f565f1b6c8\nparent cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84\nauthor Mike Du &lt;58779940+ilovemane@users.noreply.github.com&gt; 1724776299 +0100\ncommitter GitHub &lt;noreply@github.com&gt; 1724776299 -0400\n\nAdd error message when passing an array in `conditions` (#7069)\n\n* add error message when passing a matrix\r\n\r\ntidyverse day\r\n\r\n* Update test-vec-case-when.R\r\n\r\n* fixes\r\n\r\n* Tweaks\r\n\r\n* NEWS bullet\r\n\r\n* Update snap\r\n\r\n---------\r\n\r\nCo-authored-by: Davis Vaughan &lt;davis@posit.co&gt;
4                                                                                                                                                                                                                                                                         tree 3d6a95112c5bc59e6a60d245704984e722aeacad\nparent 85e94fcde02ad49c77510991078899278489fd8f\nauthor Adam &lt;adampeterso@gmail.com&gt; 1724776257 -0400\ncommitter GitHub &lt;noreply@github.com&gt; 1724776257 -0400\n\nAdd documentation clarifying appropriate use of weights in `slice_sample()` (#7052)\n\n* Add documentation clarifying appropriate use of weights in dplyr's `slice_sample()`.\r\n\r\n* Add documentation to relevant .Rd file.\r\n\r\n* Tweak documentation placement a bit\r\n\r\n---------\r\n\r\nCo-authored-by: Davis Vaughan &lt;davis@posit.co&gt;
5                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                                       tree 852e02c951972c5a4e9a831c68e2425085e7fdd5\nparent e0555277878ed174d40bda86690674ecdc27db55\nauthor Núria Mercadé-Besora &lt;61558739+nmercadeb@users.noreply.github.com&gt; 1724773867 +0100\ncommitter GitHub &lt;noreply@github.com&gt; 1724773867 -0400\n\nDocument that `group_by()` works with data-masking (#7071)\n\n
6 tree 18d4e6763ceb64f3967f9addb712ad0878798b38\nparent 173b4232bff810f563e1739211ea7545ed0651e6\nauthor James Wade &lt;github@jameshwade.com&gt; 1724773246 -0400\ncommitter GitHub &lt;noreply@github.com&gt; 1724773246 -0400\n\nAdd a `ptype` argument to `between()` (#7073)\n\n* add ptype argument to between Fixes #6906\r\n\r\n* update NEWS with ptype argument\r\n\r\n* document() and add tests\r\n\r\n* add back see also\r\n\r\n* add back see also\r\n\r\n* Redocument\r\n\r\n* Trim trailing whitespace\r\n\r\n* Remove extra line\r\n\r\n* Minor docs tweaks\r\n\r\n* require names ptype, update tests, update function documentation\r\n\r\n* remove unnecessary if else blocks\r\n\r\n* Tweak NEWS bullet\r\n\r\n* A few more tweaks\r\n\r\n* Few more tweaks\r\n\r\n---------\r\n\r\nCo-authored-by: Davis Vaughan &lt;davis@posit.co&gt;
                                                                                            url
1 https://api.github.com/repos/tidyverse/dplyr/commits/fb25640fa1eb74746a7a74a06090045106e5d20f
2 https://api.github.com/repos/tidyverse/dplyr/commits/e4e9a295a373b85e02ae084a23f12e9212a72b98
3 https://api.github.com/repos/tidyverse/dplyr/commits/1d17672a54305170dc75c251f8ae69a85c0bea37
4 https://api.github.com/repos/tidyverse/dplyr/commits/cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84
5 https://api.github.com/repos/tidyverse/dplyr/commits/85e94fcde02ad49c77510991078899278489fd8f
6 https://api.github.com/repos/tidyverse/dplyr/commits/e0555277878ed174d40bda86690674ecdc27db55
                                                                            html_url
1 https://github.com/tidyverse/dplyr/commit/fb25640fa1eb74746a7a74a06090045106e5d20f
2 https://github.com/tidyverse/dplyr/commit/e4e9a295a373b85e02ae084a23f12e9212a72b98
3 https://github.com/tidyverse/dplyr/commit/1d17672a54305170dc75c251f8ae69a85c0bea37
4 https://github.com/tidyverse/dplyr/commit/cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84
5 https://github.com/tidyverse/dplyr/commit/85e94fcde02ad49c77510991078899278489fd8f
6 https://github.com/tidyverse/dplyr/commit/e0555277878ed174d40bda86690674ecdc27db55
                                                                                            comments_url
1 https://api.github.com/repos/tidyverse/dplyr/commits/fb25640fa1eb74746a7a74a06090045106e5d20f/comments
2 https://api.github.com/repos/tidyverse/dplyr/commits/e4e9a295a373b85e02ae084a23f12e9212a72b98/comments
3 https://api.github.com/repos/tidyverse/dplyr/commits/1d17672a54305170dc75c251f8ae69a85c0bea37/comments
4 https://api.github.com/repos/tidyverse/dplyr/commits/cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84/comments
5 https://api.github.com/repos/tidyverse/dplyr/commits/85e94fcde02ad49c77510991078899278489fd8f/comments
6 https://api.github.com/repos/tidyverse/dplyr/commits/e0555277878ed174d40bda86690674ecdc27db55/comments
  author.login author.id       author.node_id
1       krlmlr   1741643 MDQ6VXNlcjE3NDE2NDM=
2 DavisVaughan  19150088 MDQ6VXNlcjE5MTUwMDg4
3    ilovemane  58779940 MDQ6VXNlcjU4Nzc5OTQw
4  apeterson91   4251291 MDQ6VXNlcjQyNTEyOTE=
5    nmercadeb  61558739 MDQ6VXNlcjYxNTU4NzM5
6   JamesHWade   6314313 MDQ6VXNlcjYzMTQzMTM=
                                     author.avatar_url author.gravatar_id
1  https://avatars.githubusercontent.com/u/1741643?v=4                   
2 https://avatars.githubusercontent.com/u/19150088?v=4                   
3 https://avatars.githubusercontent.com/u/58779940?v=4                   
4  https://avatars.githubusercontent.com/u/4251291?v=4                   
5 https://avatars.githubusercontent.com/u/61558739?v=4                   
6  https://avatars.githubusercontent.com/u/6314313?v=4                   
                                 author.url                 author.html_url
1       https://api.github.com/users/krlmlr       https://github.com/krlmlr
2 https://api.github.com/users/DavisVaughan https://github.com/DavisVaughan
3    https://api.github.com/users/ilovemane    https://github.com/ilovemane
4  https://api.github.com/users/apeterson91  https://github.com/apeterson91
5    https://api.github.com/users/nmercadeb    https://github.com/nmercadeb
6   https://api.github.com/users/JamesHWade   https://github.com/JamesHWade
                                 author.followers_url
1       https://api.github.com/users/krlmlr/followers
2 https://api.github.com/users/DavisVaughan/followers
3    https://api.github.com/users/ilovemane/followers
4  https://api.github.com/users/apeterson91/followers
5    https://api.github.com/users/nmercadeb/followers
6   https://api.github.com/users/JamesHWade/followers
                                              author.following_url
1       https://api.github.com/users/krlmlr/following{/other_user}
2 https://api.github.com/users/DavisVaughan/following{/other_user}
3    https://api.github.com/users/ilovemane/following{/other_user}
4  https://api.github.com/users/apeterson91/following{/other_user}
5    https://api.github.com/users/nmercadeb/following{/other_user}
6   https://api.github.com/users/JamesHWade/following{/other_user}
                                           author.gists_url
1       https://api.github.com/users/krlmlr/gists{/gist_id}
2 https://api.github.com/users/DavisVaughan/gists{/gist_id}
3    https://api.github.com/users/ilovemane/gists{/gist_id}
4  https://api.github.com/users/apeterson91/gists{/gist_id}
5    https://api.github.com/users/nmercadeb/gists{/gist_id}
6   https://api.github.com/users/JamesHWade/gists{/gist_id}
                                                author.starred_url
1       https://api.github.com/users/krlmlr/starred{/owner}{/repo}
2 https://api.github.com/users/DavisVaughan/starred{/owner}{/repo}
3    https://api.github.com/users/ilovemane/starred{/owner}{/repo}
4  https://api.github.com/users/apeterson91/starred{/owner}{/repo}
5    https://api.github.com/users/nmercadeb/starred{/owner}{/repo}
6   https://api.github.com/users/JamesHWade/starred{/owner}{/repo}
                                 author.subscriptions_url
1       https://api.github.com/users/krlmlr/subscriptions
2 https://api.github.com/users/DavisVaughan/subscriptions
3    https://api.github.com/users/ilovemane/subscriptions
4  https://api.github.com/users/apeterson91/subscriptions
5    https://api.github.com/users/nmercadeb/subscriptions
6   https://api.github.com/users/JamesHWade/subscriptions
                        author.organizations_url
1       https://api.github.com/users/krlmlr/orgs
2 https://api.github.com/users/DavisVaughan/orgs
3    https://api.github.com/users/ilovemane/orgs
4  https://api.github.com/users/apeterson91/orgs
5    https://api.github.com/users/nmercadeb/orgs
6   https://api.github.com/users/JamesHWade/orgs
                                 author.repos_url
1       https://api.github.com/users/krlmlr/repos
2 https://api.github.com/users/DavisVaughan/repos
3    https://api.github.com/users/ilovemane/repos
4  https://api.github.com/users/apeterson91/repos
5    https://api.github.com/users/nmercadeb/repos
6   https://api.github.com/users/JamesHWade/repos
                                           author.events_url
1       https://api.github.com/users/krlmlr/events{/privacy}
2 https://api.github.com/users/DavisVaughan/events{/privacy}
3    https://api.github.com/users/ilovemane/events{/privacy}
4  https://api.github.com/users/apeterson91/events{/privacy}
5    https://api.github.com/users/nmercadeb/events{/privacy}
6   https://api.github.com/users/JamesHWade/events{/privacy}
                                 author.received_events_url author.type
1       https://api.github.com/users/krlmlr/received_events        User
2 https://api.github.com/users/DavisVaughan/received_events        User
3    https://api.github.com/users/ilovemane/received_events        User
4  https://api.github.com/users/apeterson91/received_events        User
5    https://api.github.com/users/nmercadeb/received_events        User
6   https://api.github.com/users/JamesHWade/received_events        User
  author.user_view_type author.site_admin committer.login committer.id
1                public             FALSE          krlmlr      1741643
2                public             FALSE        web-flow     19864447
3                public             FALSE        web-flow     19864447
4                public             FALSE        web-flow     19864447
5                public             FALSE        web-flow     19864447
6                public             FALSE        web-flow     19864447
     committer.node_id                                 committer.avatar_url
1 MDQ6VXNlcjE3NDE2NDM=  https://avatars.githubusercontent.com/u/1741643?v=4
2 MDQ6VXNlcjE5ODY0NDQ3 https://avatars.githubusercontent.com/u/19864447?v=4
3 MDQ6VXNlcjE5ODY0NDQ3 https://avatars.githubusercontent.com/u/19864447?v=4
4 MDQ6VXNlcjE5ODY0NDQ3 https://avatars.githubusercontent.com/u/19864447?v=4
5 MDQ6VXNlcjE5ODY0NDQ3 https://avatars.githubusercontent.com/u/19864447?v=4
6 MDQ6VXNlcjE5ODY0NDQ3 https://avatars.githubusercontent.com/u/19864447?v=4
  committer.gravatar_id                         committer.url
1                         https://api.github.com/users/krlmlr
2                       https://api.github.com/users/web-flow
3                       https://api.github.com/users/web-flow
4                       https://api.github.com/users/web-flow
5                       https://api.github.com/users/web-flow
6                       https://api.github.com/users/web-flow
           committer.html_url                         committer.followers_url
1   https://github.com/krlmlr   https://api.github.com/users/krlmlr/followers
2 https://github.com/web-flow https://api.github.com/users/web-flow/followers
3 https://github.com/web-flow https://api.github.com/users/web-flow/followers
4 https://github.com/web-flow https://api.github.com/users/web-flow/followers
5 https://github.com/web-flow https://api.github.com/users/web-flow/followers
6 https://github.com/web-flow https://api.github.com/users/web-flow/followers
                                       committer.following_url
1   https://api.github.com/users/krlmlr/following{/other_user}
2 https://api.github.com/users/web-flow/following{/other_user}
3 https://api.github.com/users/web-flow/following{/other_user}
4 https://api.github.com/users/web-flow/following{/other_user}
5 https://api.github.com/users/web-flow/following{/other_user}
6 https://api.github.com/users/web-flow/following{/other_user}
                                    committer.gists_url
1   https://api.github.com/users/krlmlr/gists{/gist_id}
2 https://api.github.com/users/web-flow/gists{/gist_id}
3 https://api.github.com/users/web-flow/gists{/gist_id}
4 https://api.github.com/users/web-flow/gists{/gist_id}
5 https://api.github.com/users/web-flow/gists{/gist_id}
6 https://api.github.com/users/web-flow/gists{/gist_id}
                                         committer.starred_url
1   https://api.github.com/users/krlmlr/starred{/owner}{/repo}
2 https://api.github.com/users/web-flow/starred{/owner}{/repo}
3 https://api.github.com/users/web-flow/starred{/owner}{/repo}
4 https://api.github.com/users/web-flow/starred{/owner}{/repo}
5 https://api.github.com/users/web-flow/starred{/owner}{/repo}
6 https://api.github.com/users/web-flow/starred{/owner}{/repo}
                          committer.subscriptions_url
1   https://api.github.com/users/krlmlr/subscriptions
2 https://api.github.com/users/web-flow/subscriptions
3 https://api.github.com/users/web-flow/subscriptions
4 https://api.github.com/users/web-flow/subscriptions
5 https://api.github.com/users/web-flow/subscriptions
6 https://api.github.com/users/web-flow/subscriptions
                 committer.organizations_url
1   https://api.github.com/users/krlmlr/orgs
2 https://api.github.com/users/web-flow/orgs
3 https://api.github.com/users/web-flow/orgs
4 https://api.github.com/users/web-flow/orgs
5 https://api.github.com/users/web-flow/orgs
6 https://api.github.com/users/web-flow/orgs
                          committer.repos_url
1   https://api.github.com/users/krlmlr/repos
2 https://api.github.com/users/web-flow/repos
3 https://api.github.com/users/web-flow/repos
4 https://api.github.com/users/web-flow/repos
5 https://api.github.com/users/web-flow/repos
6 https://api.github.com/users/web-flow/repos
                                    committer.events_url
1   https://api.github.com/users/krlmlr/events{/privacy}
2 https://api.github.com/users/web-flow/events{/privacy}
3 https://api.github.com/users/web-flow/events{/privacy}
4 https://api.github.com/users/web-flow/events{/privacy}
5 https://api.github.com/users/web-flow/events{/privacy}
6 https://api.github.com/users/web-flow/events{/privacy}
                          committer.received_events_url committer.type
1   https://api.github.com/users/krlmlr/received_events           User
2 https://api.github.com/users/web-flow/received_events           User
3 https://api.github.com/users/web-flow/received_events           User
4 https://api.github.com/users/web-flow/received_events           User
5 https://api.github.com/users/web-flow/received_events           User
6 https://api.github.com/users/web-flow/received_events           User
  committer.user_view_type committer.site_admin
1                   public                FALSE
2                   public                FALSE
3                   public                FALSE
4                   public                FALSE
5                   public                FALSE
6                   public                FALSE
                                                                                                                                                                                                                      parents
1 e4e9a295a373b85e02ae084a23f12e9212a72b98, https://api.github.com/repos/tidyverse/dplyr/commits/e4e9a295a373b85e02ae084a23f12e9212a72b98, https://github.com/tidyverse/dplyr/commit/e4e9a295a373b85e02ae084a23f12e9212a72b98
2 1d17672a54305170dc75c251f8ae69a85c0bea37, https://api.github.com/repos/tidyverse/dplyr/commits/1d17672a54305170dc75c251f8ae69a85c0bea37, https://github.com/tidyverse/dplyr/commit/1d17672a54305170dc75c251f8ae69a85c0bea37
3 cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84, https://api.github.com/repos/tidyverse/dplyr/commits/cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84, https://github.com/tidyverse/dplyr/commit/cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84
4 85e94fcde02ad49c77510991078899278489fd8f, https://api.github.com/repos/tidyverse/dplyr/commits/85e94fcde02ad49c77510991078899278489fd8f, https://github.com/tidyverse/dplyr/commit/85e94fcde02ad49c77510991078899278489fd8f
5 e0555277878ed174d40bda86690674ecdc27db55, https://api.github.com/repos/tidyverse/dplyr/commits/e0555277878ed174d40bda86690674ecdc27db55, https://github.com/tidyverse/dplyr/commit/e0555277878ed174d40bda86690674ecdc27db55
6 173b4232bff810f563e1739211ea7545ed0651e6, https://api.github.com/repos/tidyverse/dplyr/commits/173b4232bff810f563e1739211ea7545ed0651e6, https://github.com/tidyverse/dplyr/commit/173b4232bff810f563e1739211ea7545ed0651e6</code></pre>
</div>
</div>
<p>Then, we can extract specific data from the commits including details like the commit message, author, and date. We will create a simplified data frame with just these columns.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb16"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb16-1"><a href="#cb16-1" aria-hidden="true" tabindex="-1"></a>commits_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb16-2"><a href="#cb16-2" aria-hidden="true" tabindex="-1"></a>    <span class="at">sha =</span> commits<span class="sc">$</span>sha,</span>
<span id="cb16-3"><a href="#cb16-3" aria-hidden="true" tabindex="-1"></a>    <span class="at">author =</span> commits<span class="sc">$</span>commit<span class="sc">$</span>author<span class="sc">$</span>name,</span>
<span id="cb16-4"><a href="#cb16-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> commits<span class="sc">$</span>commit<span class="sc">$</span>author<span class="sc">$</span>date,</span>
<span id="cb16-5"><a href="#cb16-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">message =</span> commits<span class="sc">$</span>commit<span class="sc">$</span>message)</span>
<span id="cb16-6"><a href="#cb16-6" aria-hidden="true" tabindex="-1"></a>commits_df</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 4
   sha                                      author               date    message
   &lt;chr&gt;                                    &lt;chr&gt;                &lt;chr&gt;   &lt;chr&gt;  
 1 fb25640fa1eb74746a7a74a06090045106e5d20f Kirill Müller        2024-1… "Move …
 2 e4e9a295a373b85e02ae084a23f12e9212a72b98 Davis Vaughan        2024-1… "Remov…
 3 1d17672a54305170dc75c251f8ae69a85c0bea37 Mike Du              2024-0… "Add e…
 4 cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84 Adam                 2024-0… "Add d…
 5 85e94fcde02ad49c77510991078899278489fd8f Núria Mercadé-Besora 2024-0… "Docum…
 6 e0555277878ed174d40bda86690674ecdc27db55 James Wade           2024-0… "Add a…
 7 173b4232bff810f563e1739211ea7545ed0651e6 Kirill Müller        2024-0… "Fix e…
 8 b2c7e047081301afe2ca376c508491d77bea4bde Jeremy Winget        2024-0… "Fix `…
 9 663d7f07140b45d5d3a256465728d9d5c35b9455 Rodrigo Dal Ben      2024-0… "Fix t…
10 cdc99196a2d80f14b48ceb5edad328ab34a5bf65 Davis Vaughan        2024-0… "Add `…
# ℹ 20 more rows</code></pre>
</div>
</div>
</section>
<section id="authentication" class="level3">
<h3 class="anchored" data-anchor-id="authentication">Authentication</h3>
<p>Authenticating with the GitHub API via an API key allows you to send much more requests to the API.</p>
<p>API access keys for the GitHub API are called <strong>personal access tokens</strong> (PAT) and the <a href="https://docs.github.com/en/authentication/keeping-your-account-and-data-secure/creating-a-personal-access-token">documentation explains how to generate a PAT</a> once you have logged into your GitHub account.</p>
<p><strong>To create a PAT</strong>: You can create a PAT from your GitHub account (Settings &gt; Developer settings &gt; Personal access tokens). It’s a good idea to only grant “read” permissions.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Where to store API keys
</div>
</div>
<div class="callout-body-container callout-body">
<p>First, <strong>please be careful with your PATs and never publish them.</strong></p>
<p>If you want guidance on where you should store them, I like this post:</p>
<ul>
<li><a href="https://www.r-bloggers.com/2015/11/how-to-store-and-use-webservice-keys-and-authentication-details-with-r/" class="uri">https://www.r-bloggers.com/2015/11/how-to-store-and-use-webservice-keys-and-authentication-details-with-r/</a></li>
</ul>
<p>It is suggested you keep them in you <code>.Renviron</code> file which looks something like this on the inside:</p>
<pre><code>GITHUB_PAT = &lt;add my GitHub PAT here&gt; </code></pre>
<p>If you do not have an <code>.Renviron</code> file in your home directory, you can make one:</p>
<div class="sourceCode" id="cb19"><pre class="sourceCode bash code-with-copy"><code class="sourceCode bash"><span id="cb19-1"><a href="#cb19-1" aria-hidden="true" tabindex="-1"></a><span class="bu">cd</span> ~</span>
<span id="cb19-2"><a href="#cb19-2" aria-hidden="true" tabindex="-1"></a><span class="fu">touch</span> .Renviron</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
</div>
<p>Assuming you have created and stored an API key in the <code>.Renviron</code> file in your home directory, you can fetch it with the <code>Sys.getenv()</code> function and use the PAT in our <code>httr2</code> request.</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb20"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="co"># Read the PAT from environment variables</span></span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a>github_pat <span class="ot">&lt;-</span> <span class="fu">Sys.getenv</span>(<span class="st">"GITHUB_PAT"</span>)</span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb20-4"><a href="#cb20-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the GET request with PAT for authentication</span></span>
<span id="cb20-5"><a href="#cb20-5" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">request</span>(url) <span class="sc">%&gt;%</span></span>
<span id="cb20-6"><a href="#cb20-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_auth_bearer_token</span>(github_pat) <span class="sc">%&gt;%</span></span>
<span id="cb20-7"><a href="#cb20-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_perform</span>()</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>Now, we check the response as before</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb21"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="cf">if</span> (<span class="fu">resp_status</span>(response) <span class="sc">==</span> <span class="dv">200</span>) {</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a>  commits <span class="ot">&lt;-</span> <span class="fu">resp_body_json</span>(response, <span class="at">simplifyVector =</span> <span class="cn">TRUE</span>)</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a>  commits_df <span class="ot">&lt;-</span> <span class="fu">tibble</span>(</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a>    <span class="at">sha =</span> commits<span class="sc">$</span>sha,</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a>    <span class="at">author =</span> commits<span class="sc">$</span>commit<span class="sc">$</span>author<span class="sc">$</span>name,</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a>    <span class="at">date =</span> commits<span class="sc">$</span>commit<span class="sc">$</span>author<span class="sc">$</span>date,</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a>    <span class="at">message =</span> commits<span class="sc">$</span>commit<span class="sc">$</span>message)</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a>  commits_df</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a>} <span class="cf">else</span> {</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a>  <span class="fu">message</span>(<span class="st">"Failed to retrieve data. Status code: "</span>, <span class="fu">resp_status</span>(response))</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a>}</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code># A tibble: 30 × 4
   sha                                      author               date    message
   &lt;chr&gt;                                    &lt;chr&gt;                &lt;chr&gt;   &lt;chr&gt;  
 1 fb25640fa1eb74746a7a74a06090045106e5d20f Kirill Müller        2024-1… "Move …
 2 e4e9a295a373b85e02ae084a23f12e9212a72b98 Davis Vaughan        2024-1… "Remov…
 3 1d17672a54305170dc75c251f8ae69a85c0bea37 Mike Du              2024-0… "Add e…
 4 cfb25a030f9f7c39f77fed2c97f3fa7b15a55e84 Adam                 2024-0… "Add d…
 5 85e94fcde02ad49c77510991078899278489fd8f Núria Mercadé-Besora 2024-0… "Docum…
 6 e0555277878ed174d40bda86690674ecdc27db55 James Wade           2024-0… "Add a…
 7 173b4232bff810f563e1739211ea7545ed0651e6 Kirill Müller        2024-0… "Fix e…
 8 b2c7e047081301afe2ca376c508491d77bea4bde Jeremy Winget        2024-0… "Fix `…
 9 663d7f07140b45d5d3a256465728d9d5c35b9455 Rodrigo Dal Ben      2024-0… "Fix t…
10 cdc99196a2d80f14b48ceb5edad328ab34a5bf65 Davis Vaughan        2024-0… "Add `…
# ℹ 20 more rows</code></pre>
</div>
</div>
</section>
<section id="example-learn-about-stephanie" class="level3">
<h3 class="anchored" data-anchor-id="example-learn-about-stephanie">Example: Learn about Stephanie</h3>
<p>Let’s start by using the GitHub API to learn information about myself (Stephanie Hicks). First, let’s check out <a href="https://api.github.com/users/stephaniehicks" class="uri">https://api.github.com/users/stephaniehicks</a>.</p>
<p>Now, we have decided to explore <a href="https://api.github.com/users/stephaniehicks/repos" class="uri">https://api.github.com/users/stephaniehicks/repos</a>.</p>
<p>To use <code>httr2</code>, start by creating a request:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb23"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb23-1"><a href="#cb23-1" aria-hidden="true" tabindex="-1"></a>owner <span class="ot">&lt;-</span> <span class="st">"stephaniehicks"</span></span>
<span id="cb23-2"><a href="#cb23-2" aria-hidden="true" tabindex="-1"></a>url <span class="ot">&lt;-</span> <span class="fu">paste0</span>(<span class="st">"https://api.github.com/users/"</span>, owner,<span class="st">"/repos"</span>)</span>
<span id="cb23-3"><a href="#cb23-3" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-4"><a href="#cb23-4" aria-hidden="true" tabindex="-1"></a><span class="co"># Make the GET request with PAT for authentication</span></span>
<span id="cb23-5"><a href="#cb23-5" aria-hidden="true" tabindex="-1"></a>response <span class="ot">&lt;-</span> <span class="fu">request</span>(url) <span class="sc">%&gt;%</span></span>
<span id="cb23-6"><a href="#cb23-6" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_auth_bearer_token</span>(github_pat) <span class="sc">%&gt;%</span></span>
<span id="cb23-7"><a href="#cb23-7" aria-hidden="true" tabindex="-1"></a>  <span class="fu">req_perform</span>()</span>
<span id="cb23-8"><a href="#cb23-8" aria-hidden="true" tabindex="-1"></a></span>
<span id="cb23-9"><a href="#cb23-9" aria-hidden="true" tabindex="-1"></a>stephanie <span class="ot">&lt;-</span> <span class="fu">resp_body_json</span>(response, <span class="at">simplifyVector =</span> <span class="cn">TRUE</span>)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
</div>
<p>We convert the response to a parsed JSON file (or a list).</p>
</section>
</section>
<section id="a-bit-of-eda-fun" class="level2">
<h2 class="anchored" data-anchor-id="a-bit-of-eda-fun">A bit of EDA fun</h2>
<p>Let’s have a bit of fun and explore some questions:</p>
<ul>
<li>How many public repositories do I have?</li>
</ul>
<div class="cell">
<div class="sourceCode cell-code" id="cb24"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb24-1"><a href="#cb24-1" aria-hidden="true" tabindex="-1"></a>stephanie<span class="sc">$</span>forks</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code> [1]  4  0  1  0  1  0  0  2  0  0  0  4  1  1  0  1 11  0  0  3  0  3  0  1  1
[26]  0  0  1  0  0</code></pre>
</div>
</div>
<p>What’s the most popular language?</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb26"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb26-1"><a href="#cb26-1" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(stephanie<span class="sc">$</span>language)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
            HTML Jupyter Notebook                R             Ruby 
               7                1               12                2 
             TeX 
               1 </code></pre>
</div>
</div>
<p>To find out how many repos that I have with open issues, we can just create a table:</p>
<div class="cell">
<div class="sourceCode cell-code" id="cb28"><pre class="sourceCode r code-with-copy"><code class="sourceCode r"><span id="cb28-1"><a href="#cb28-1" aria-hidden="true" tabindex="-1"></a><span class="co"># how many repos have open issues? </span></span>
<span id="cb28-2"><a href="#cb28-2" aria-hidden="true" tabindex="-1"></a><span class="fu">table</span>(stephanie<span class="sc">$</span>open_issues)</span></code><button title="Copy to Clipboard" class="code-copy-button"><i class="bi"></i></button></pre></div>
<div class="cell-output cell-output-stdout">
<pre><code>
 0  1 
27  3 </code></pre>
</div>
</div>
<p>Whew! Not as many as I thought.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Other examples with GitHub API
</div>
</div>
<div class="callout-body-container callout-body">
<p>Finally, I will leave you with a few other examples of using GitHub API:</p>
<ul>
<li><a href="https://blog.exploratory.io/analyzing-issue-data-with-github-rest-api-63945017dedc">How long does it take to close a GitHub Issue in the <code>dplyr</code> package?</a></li>
<li><a href="https://stackoverflow.com/questions/9179828/github-api-retrieve-all-commits-for-all-branches-for-a-repo">How to retrieve all commits for a branch</a></li>
<li><a href="https://masalmon.eu/2017/12/21/wherehaveyoubeen/">Getting my GitHub Activity</a></li>
</ul>


</div>
</div>
</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
window.document.addEventListener("DOMContentLoaded", function (event) {
  const toggleBodyColorMode = (bsSheetEl) => {
    const mode = bsSheetEl.getAttribute("data-mode");
    const bodyEl = window.document.querySelector("body");
    if (mode === "dark") {
      bodyEl.classList.add("quarto-dark");
      bodyEl.classList.remove("quarto-light");
    } else {
      bodyEl.classList.add("quarto-light");
      bodyEl.classList.remove("quarto-dark");
    }
  }
  const toggleBodyColorPrimary = () => {
    const bsSheetEl = window.document.querySelector("link#quarto-bootstrap");
    if (bsSheetEl) {
      toggleBodyColorMode(bsSheetEl);
    }
  }
  toggleBodyColorPrimary();  
  const icon = "";
  const anchorJS = new window.AnchorJS();
  anchorJS.options = {
    placement: 'right',
    icon: icon
  };
  anchorJS.add('.anchored');
  const isCodeAnnotation = (el) => {
    for (const clz of el.classList) {
      if (clz.startsWith('code-annotation-')) {                     
        return true;
      }
    }
    return false;
  }
  const onCopySuccess = function(e) {
    // button target
    const button = e.trigger;
    // don't keep focus
    button.blur();
    // flash "checked"
    button.classList.add('code-copy-button-checked');
    var currentTitle = button.getAttribute("title");
    button.setAttribute("title", "Copied!");
    let tooltip;
    if (window.bootstrap) {
      button.setAttribute("data-bs-toggle", "tooltip");
      button.setAttribute("data-bs-placement", "left");
      button.setAttribute("data-bs-title", "Copied!");
      tooltip = new bootstrap.Tooltip(button, 
        { trigger: "manual", 
          customClass: "code-copy-button-tooltip",
          offset: [0, -8]});
      tooltip.show();    
    }
    setTimeout(function() {
      if (tooltip) {
        tooltip.hide();
        button.removeAttribute("data-bs-title");
        button.removeAttribute("data-bs-toggle");
        button.removeAttribute("data-bs-placement");
      }
      button.setAttribute("title", currentTitle);
      button.classList.remove('code-copy-button-checked');
    }, 1000);
    // clear code selection
    e.clearSelection();
  }
  const getTextToCopy = function(trigger) {
      const codeEl = trigger.previousElementSibling.cloneNode(true);
      for (const childEl of codeEl.children) {
        if (isCodeAnnotation(childEl)) {
          childEl.remove();
        }
      }
      return codeEl.innerText;
  }
  const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
    text: getTextToCopy
  });
  clipboard.on('success', onCopySuccess);
  if (window.document.getElementById('quarto-embedded-source-code-modal')) {
    // For code content inside modals, clipBoardJS needs to be initialized with a container option
    // TODO: Check when it could be a function (https://github.com/zenorocha/clipboard.js/issues/860)
    const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
      text: getTextToCopy,
      container: window.document.getElementById('quarto-embedded-source-code-modal')
    });
    clipboardModal.on('success', onCopySuccess);
  }
    var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
    var mailtoRegex = new RegExp(/^mailto:/);
      var filterRegex = new RegExp("https:\/\/stephaniehicks\.github\.io\/jhustatprogramming2024\/");
    var isInternal = (href) => {
        return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
    }
    // Inspect non-navigation links and adorn them if external
 	var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
    for (var i=0; i<links.length; i++) {
      const link = links[i];
      if (!isInternal(link.href)) {
        // undo the damage that might have been done by quarto-nav.js in the case of
        // links that we want to consider external
        if (link.dataset.originalHref !== undefined) {
          link.href = link.dataset.originalHref;
        }
      }
    }
  function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
    const config = {
      allowHTML: true,
      maxWidth: 500,
      delay: 100,
      arrow: false,
      appendTo: function(el) {
          return el.parentElement;
      },
      interactive: true,
      interactiveBorder: 10,
      theme: 'quarto',
      placement: 'bottom-start',
    };
    if (contentFn) {
      config.content = contentFn;
    }
    if (onTriggerFn) {
      config.onTrigger = onTriggerFn;
    }
    if (onUntriggerFn) {
      config.onUntrigger = onUntriggerFn;
    }
    window.tippy(el, config); 
  }
  const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
  for (var i=0; i<noterefs.length; i++) {
    const ref = noterefs[i];
    tippyHover(ref, function() {
      // use id or data attribute instead here
      let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
      try { href = new URL(href).hash; } catch {}
      const id = href.replace(/^#\/?/, "");
      const note = window.document.getElementById(id);
      if (note) {
        return note.innerHTML;
      } else {
        return "";
      }
    });
  }
  const xrefs = window.document.querySelectorAll('a.quarto-xref');
  const processXRef = (id, note) => {
    // Strip column container classes
    const stripColumnClz = (el) => {
      el.classList.remove("page-full", "page-columns");
      if (el.children) {
        for (const child of el.children) {
          stripColumnClz(child);
        }
      }
    }
    stripColumnClz(note)
    if (id === null || id.startsWith('sec-')) {
      // Special case sections, only their first couple elements
      const container = document.createElement("div");
      if (note.children && note.children.length > 2) {
        container.appendChild(note.children[0].cloneNode(true));
        for (let i = 1; i < note.children.length; i++) {
          const child = note.children[i];
          if (child.tagName === "P" && child.innerText === "") {
            continue;
          } else {
            container.appendChild(child.cloneNode(true));
            break;
          }
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(container);
        }
        return container.innerHTML
      } else {
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        return note.innerHTML;
      }
    } else {
      // Remove any anchor links if they are present
      const anchorLink = note.querySelector('a.anchorjs-link');
      if (anchorLink) {
        anchorLink.remove();
      }
      if (window.Quarto?.typesetMath) {
        window.Quarto.typesetMath(note);
      }
      // TODO in 1.5, we should make sure this works without a callout special case
      if (note.classList.contains("callout")) {
        return note.outerHTML;
      } else {
        return note.innerHTML;
      }
    }
  }
  for (var i=0; i<xrefs.length; i++) {
    const xref = xrefs[i];
    tippyHover(xref, undefined, function(instance) {
      instance.disable();
      let url = xref.getAttribute('href');
      let hash = undefined; 
      if (url.startsWith('#')) {
        hash = url;
      } else {
        try { hash = new URL(url).hash; } catch {}
      }
      if (hash) {
        const id = hash.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note !== null) {
          try {
            const html = processXRef(id, note.cloneNode(true));
            instance.setContent(html);
          } finally {
            instance.enable();
            instance.show();
          }
        } else {
          // See if we can fetch this
          fetch(url.split('#')[0])
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.getElementById(id);
            if (note !== null) {
              const html = processXRef(id, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      } else {
        // See if we can fetch a full url (with no hash to target)
        // This is a special case and we should probably do some content thinning / targeting
        fetch(url)
        .then(res => res.text())
        .then(html => {
          const parser = new DOMParser();
          const htmlDoc = parser.parseFromString(html, "text/html");
          const note = htmlDoc.querySelector('main.content');
          if (note !== null) {
            // This should only happen for chapter cross references
            // (since there is no id in the URL)
            // remove the first header
            if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
              note.children[0].remove();
            }
            const html = processXRef(null, note);
            instance.setContent(html);
          } 
        }).finally(() => {
          instance.enable();
          instance.show();
        });
      }
    }, function(instance) {
    });
  }
      let selectedAnnoteEl;
      const selectorForAnnotation = ( cell, annotation) => {
        let cellAttr = 'data-code-cell="' + cell + '"';
        let lineAttr = 'data-code-annotation="' +  annotation + '"';
        const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
        return selector;
      }
      const selectCodeLines = (annoteEl) => {
        const doc = window.document;
        const targetCell = annoteEl.getAttribute("data-target-cell");
        const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
        const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
        const lines = annoteSpan.getAttribute("data-code-lines").split(",");
        const lineIds = lines.map((line) => {
          return targetCell + "-" + line;
        })
        let top = null;
        let height = null;
        let parent = null;
        if (lineIds.length > 0) {
            //compute the position of the single el (top and bottom and make a div)
            const el = window.document.getElementById(lineIds[0]);
            top = el.offsetTop;
            height = el.offsetHeight;
            parent = el.parentElement.parentElement;
          if (lineIds.length > 1) {
            const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
            const bottom = lastEl.offsetTop + lastEl.offsetHeight;
            height = bottom - top;
          }
          if (top !== null && height !== null && parent !== null) {
            // cook up a div (if necessary) and position it 
            let div = window.document.getElementById("code-annotation-line-highlight");
            if (div === null) {
              div = window.document.createElement("div");
              div.setAttribute("id", "code-annotation-line-highlight");
              div.style.position = 'absolute';
              parent.appendChild(div);
            }
            div.style.top = top - 2 + "px";
            div.style.height = height + 4 + "px";
            div.style.left = 0;
            let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
            if (gutterDiv === null) {
              gutterDiv = window.document.createElement("div");
              gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
              gutterDiv.style.position = 'absolute';
              const codeCell = window.document.getElementById(targetCell);
              const gutter = codeCell.querySelector('.code-annotation-gutter');
              gutter.appendChild(gutterDiv);
            }
            gutterDiv.style.top = top - 2 + "px";
            gutterDiv.style.height = height + 4 + "px";
          }
          selectedAnnoteEl = annoteEl;
        }
      };
      const unselectCodeLines = () => {
        const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
        elementsIds.forEach((elId) => {
          const div = window.document.getElementById(elId);
          if (div) {
            div.remove();
          }
        });
        selectedAnnoteEl = undefined;
      };
        // Handle positioning of the toggle
    window.addEventListener(
      "resize",
      throttle(() => {
        elRect = undefined;
        if (selectedAnnoteEl) {
          selectCodeLines(selectedAnnoteEl);
        }
      }, 10)
    );
    function throttle(fn, ms) {
    let throttle = false;
    let timer;
      return (...args) => {
        if(!throttle) { // first call gets through
            fn.apply(this, args);
            throttle = true;
        } else { // all the others get throttled
            if(timer) clearTimeout(timer); // cancel #2
            timer = setTimeout(() => {
              fn.apply(this, args);
              timer = throttle = false;
            }, ms);
        }
      };
    }
      // Attach click handler to the DT
      const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
      for (const annoteDlNode of annoteDls) {
        annoteDlNode.addEventListener('click', (event) => {
          const clickedEl = event.target;
          if (clickedEl !== selectedAnnoteEl) {
            unselectCodeLines();
            const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
            if (activeEl) {
              activeEl.classList.remove('code-annotation-active');
            }
            selectCodeLines(clickedEl);
            clickedEl.classList.add('code-annotation-active');
          } else {
            // Unselect the line
            unselectCodeLines();
            clickedEl.classList.remove('code-annotation-active');
          }
        });
      }
  const findCites = (el) => {
    const parentEl = el.parentElement;
    if (parentEl) {
      const cites = parentEl.dataset.cites;
      if (cites) {
        return {
          el,
          cites: cites.split(' ')
        };
      } else {
        return findCites(el.parentElement)
      }
    } else {
      return undefined;
    }
  };
  var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
  for (var i=0; i<bibliorefs.length; i++) {
    const ref = bibliorefs[i];
    const citeInfo = findCites(ref);
    if (citeInfo) {
      tippyHover(citeInfo.el, function() {
        var popup = window.document.createElement('div');
        citeInfo.cites.forEach(function(cite) {
          var citeDiv = window.document.createElement('div');
          citeDiv.classList.add('hanging-indent');
          citeDiv.classList.add('csl-entry');
          var biblioDiv = window.document.getElementById('ref-' + cite);
          if (biblioDiv) {
            citeDiv.innerHTML = biblioDiv.innerHTML;
          }
          popup.appendChild(citeDiv);
        });
        return popup.innerHTML;
      });
    }
  }
});
</script>
</div> <!-- /content -->




</body></html>