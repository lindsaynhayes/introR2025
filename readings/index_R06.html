<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en"><head>

<meta charset="utf-8">
<meta name="generator" content="quarto-1.7.32">

<meta name="viewport" content="width=device-width, initial-scale=1.0, user-scalable=yes">

<meta name="author" content="Lindsay Hayes">
<meta name="dcterms.date" content="2025-07-16">
<meta name="description" content="Reading for Class 06">

<title>Machine Learning with tidymodels – Intro to Reproducible Data Analysis Using R</title>
<style>
code{white-space: pre-wrap;}
span.smallcaps{font-variant: small-caps;}
div.columns{display: flex; gap: min(4vw, 1.5em);}
div.column{flex: auto; overflow-x: auto;}
div.hanging-indent{margin-left: 1.5em; text-indent: -1.5em;}
ul.task-list{list-style: none;}
ul.task-list li input[type="checkbox"] {
  width: 0.8em;
  margin: 0 0.8em 0.2em -1em; /* quarto-specific, see https://github.com/quarto-dev/quarto-cli/issues/4556 */ 
  vertical-align: middle;
}
</style>


<script src="../site_libs/quarto-nav/quarto-nav.js"></script>
<script src="../site_libs/quarto-nav/headroom.min.js"></script>
<script src="../site_libs/clipboard/clipboard.min.js"></script>
<script src="../site_libs/quarto-search/autocomplete.umd.js"></script>
<script src="../site_libs/quarto-search/fuse.min.js"></script>
<script src="../site_libs/quarto-search/quarto-search.js"></script>
<meta name="quarto:offset" content="../">
<script src="../site_libs/quarto-html/quarto.js" type="module"></script>
<script src="../site_libs/quarto-html/tabsets/tabsets.js" type="module"></script>
<script src="../site_libs/quarto-html/popper.min.js"></script>
<script src="../site_libs/quarto-html/tippy.umd.min.js"></script>
<script src="../site_libs/quarto-html/anchor.min.js"></script>
<link href="../site_libs/quarto-html/tippy.css" rel="stylesheet">
<link href="../site_libs/quarto-html/quarto-syntax-highlighting-37eea08aefeeee20ff55810ff984fec1.css" rel="stylesheet" id="quarto-text-highlighting-styles">
<script src="../site_libs/bootstrap/bootstrap.min.js"></script>
<link href="../site_libs/bootstrap/bootstrap-icons.css" rel="stylesheet">
<link href="../site_libs/bootstrap/bootstrap-4883457c128598692052c0b967b2c237.min.css" rel="stylesheet" append-hash="true" id="quarto-bootstrap" data-mode="light">
<script id="quarto-search-options" type="application/json">{
  "location": "navbar",
  "copy-button": false,
  "collapse-after": 3,
  "panel-placement": "end",
  "type": "overlay",
  "limit": 50,
  "keyboard-shortcut": [
    "f",
    "/",
    "s"
  ],
  "show-item-context": false,
  "language": {
    "search-no-results-text": "No results",
    "search-matching-documents-text": "matching documents",
    "search-copy-link-title": "Copy link to search",
    "search-hide-matches-text": "Hide additional matches",
    "search-more-match-text": "more match in this document",
    "search-more-matches-text": "more matches in this document",
    "search-clear-button-title": "Clear",
    "search-text-placeholder": "",
    "search-detached-cancel-button-title": "Cancel",
    "search-submit-button-title": "Submit",
    "search-label": "Search"
  }
}</script>


<link rel="stylesheet" href="../styles.css">
</head>

<body class="nav-fixed quarto-light">

<div id="quarto-search-results"></div>
  <header id="quarto-header" class="headroom fixed-top">
    <nav class="navbar navbar-expand-lg " data-bs-theme="dark">
      <div class="navbar-container container-fluid">
      <div class="navbar-brand-container mx-auto">
    <a class="navbar-brand" href="../index.html">
    <span class="navbar-title">Intro to Reproducible Data Analysis Using R</span>
    </a>
  </div>
            <div id="quarto-search" class="" title="Search"></div>
          <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarCollapse" aria-controls="navbarCollapse" role="menu" aria-expanded="false" aria-label="Toggle navigation" onclick="if (window.quartoToggleHeadroom) { window.quartoToggleHeadroom(); }">
  <span class="navbar-toggler-icon"></span>
</button>
          <div class="collapse navbar-collapse" id="navbarCollapse">
            <ul class="navbar-nav navbar-nav-scroll ms-auto">
  <li class="nav-item">
    <a class="nav-link" href="../index.html"> <i class="bi bi-home" role="img">
</i> 
<span class="menu-text">Home</span></a>
  </li>  
  <li class="nav-item">
    <a class="nav-link" href="../lectures.html"> <i class="bi bi-book-half" role="img">
</i> 
<span class="menu-text">Course</span></a>
  </li>  
  <li class="nav-item dropdown ">
    <a class="nav-link dropdown-toggle" href="#" id="nav-menu-resources" role="link" data-bs-toggle="dropdown" aria-expanded="false">
      <i class="bi bi-box-seam-fill" role="img">
</i> 
 <span class="menu-text">Resources</span>
    </a>
    <ul class="dropdown-menu dropdown-menu-end" aria-labelledby="nav-menu-resources">    
        <li>
    <a class="dropdown-item" href="../readings.html">
 <span class="dropdown-text">Pre-reading</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../activities.html">
 <span class="dropdown-text">In-Class Activities</span></a>
  </li>  
        <li>
    <a class="dropdown-item" href="../projects.html">
 <span class="dropdown-text">Assignments</span></a>
  </li>  
    </ul>
  </li>
  <li class="nav-item compact">
    <a class="nav-link" href="https://github.com/lindsaynhayes/introR2025"> <i class="bi bi-github" role="img">
</i> 
<span class="menu-text"></span></a>
  </li>  
</ul>
          </div> <!-- /navcollapse -->
            <div class="quarto-navbar-tools">
</div>
      </div> <!-- /container-fluid -->
    </nav>
</header>
<!-- content -->
<div id="quarto-content" class="quarto-container page-columns page-rows-contents page-layout-article page-navbar">
<!-- sidebar -->
<!-- margin-sidebar -->
    <div id="quarto-margin-sidebar" class="sidebar margin-sidebar">
        <nav id="TOC" role="doc-toc" class="toc-active">
    <h2 id="toc-title">On this page</h2>
   
  <ul>
  <li><a href="#machine-learning" id="toc-machine-learning" class="nav-link active" data-scroll-target="#machine-learning">Machine Learning!</a>
  <ul class="collapse">
  <li><a href="#what-is-machine-learning-ml" id="toc-what-is-machine-learning-ml" class="nav-link" data-scroll-target="#what-is-machine-learning-ml">What is machine learning (ML)?</a></li>
  <li><a href="#why-would-you-need-machine-learning" id="toc-why-would-you-need-machine-learning" class="nav-link" data-scroll-target="#why-would-you-need-machine-learning">Why would <em>you</em> need machine learning?</a></li>
  <li><a href="#hypothesis-testing-in-ml-and-data-modeling" id="toc-hypothesis-testing-in-ml-and-data-modeling" class="nav-link" data-scroll-target="#hypothesis-testing-in-ml-and-data-modeling">Hypothesis Testing in ML and data modeling</a></li>
  <li><a href="#categories-of-machine-learning-algorithms" id="toc-categories-of-machine-learning-algorithms" class="nav-link" data-scroll-target="#categories-of-machine-learning-algorithms">Categories of Machine Learning Algorithms</a></li>
  <li><a href="#supervised-machine-learning-types" id="toc-supervised-machine-learning-types" class="nav-link" data-scroll-target="#supervised-machine-learning-types">Supervised Machine Learning Types</a></li>
  <li><a href="#ml-algorithms-for-classification-prediction" id="toc-ml-algorithms-for-classification-prediction" class="nav-link" data-scroll-target="#ml-algorithms-for-classification-prediction">ML Algorithms for Classification Prediction</a>
  <ul class="collapse">
  <li><a href="#logistic-regression" id="toc-logistic-regression" class="nav-link" data-scroll-target="#logistic-regression">Logistic Regression</a></li>
  <li><a href="#random-forest" id="toc-random-forest" class="nav-link" data-scroll-target="#random-forest">Random Forest</a></li>
  </ul></li>
  <li><a href="#model-validation" id="toc-model-validation" class="nav-link" data-scroll-target="#model-validation">Model Validation</a></li>
  <li><a href="#performing-machine-learning-in-r" id="toc-performing-machine-learning-in-r" class="nav-link" data-scroll-target="#performing-machine-learning-in-r">Performing Machine Learning in R</a></li>
  <li><a href="#resources" id="toc-resources" class="nav-link" data-scroll-target="#resources">Resources:</a></li>
  </ul></li>
  </ul>
</nav>
    </div>
<!-- main -->
<main class="content" id="quarto-document-content">

<header id="title-block-header" class="quarto-title-block default">
<div class="quarto-title">
<h1 class="title">Machine Learning with tidymodels</h1>
</div>

<div>
  <div class="description">
    Reading for Class 06
  </div>
</div>

<div class="quarto-title-meta-author">
  <div class="quarto-title-meta-heading">Author</div>
  <div class="quarto-title-meta-heading">Affiliation</div>
  
    <div class="quarto-title-meta-contents">
    <p class="author"><a href="https://lindsaynhayes.github.io">Lindsay Hayes</a> </p>
  </div>
  <div class="quarto-title-meta-contents">
        <p class="affiliation">
            Department of Cell Biology, OUHSC
          </p>
      </div>
  </div>

<div class="quarto-title-meta">

      
    <div>
    <div class="quarto-title-meta-heading">Published</div>
    <div class="quarto-title-meta-contents">
      <p class="date">July 16, 2025</p>
    </div>
  </div>
  
    
  </div>
  


</header>


<section id="machine-learning" class="level1">
<h1>Machine Learning!</h1>
<p>In the last class, we talked about using tidymodels to perform dimension reduction, specifically using principal component analysis (PCA) to reduce the data from multiple features into a few number of summary features (PCs) that best represented the variance in the dataset. Variance is an important aspect of statistical analysis. Most statistical tests ask whether sources of variance in your data is a result of some manipulation or group comparison you are performing.</p>
<p>In this class, we will expand on these concepts my exploring some machine learning algorithms to predict outcomes in data. PCA is actually a type of machine learning too. I snuck it up on you before you even knew you were doing machine learning!</p>
<div class="callout callout-style-default callout-note callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Learning objectives
</div>
</div>
<div class="callout-body-container callout-body">
<p><strong>At the end of class you will be able to:</strong></p>
<ul>
<li>Understand the purpose of data modeling, specifically machine learning classification</li>
<li>Identify the packages and tools used to implement machine learning algorithms for data analysis</li>
</ul>
</div>
</div>
<section id="what-is-machine-learning-ml" class="level2">
<h2 class="anchored" data-anchor-id="what-is-machine-learning-ml">What is machine learning (ML)?</h2>
<p>ML is a disciple of artificial intelligence (AI) that develops statistical algorithms that can learn from data and past experiences to identify patterns, draw inferences, and make predictions on unseen data.</p>
<p><img src="figs/ML1.webp" class="img-fluid quarto-figure quarto-figure-center" alt="Schematic of machine learning"> <a href="https://www.geeksforgeeks.org/r-machine-learning/introduction-to-machine-learning-in-r/">image credit</a></p>
</section>
<section id="why-would-you-need-machine-learning" class="level2">
<h2 class="anchored" data-anchor-id="why-would-you-need-machine-learning">Why would <em>you</em> need machine learning?</h2>
<p>Machine learning is useful when the biologic dataset for analysis is 1) large with many individual data points, 2) complex with many distinct features or measurements, or 3) when automated and reproducible analysis needs to be performed on the data or datasets.</p>
<p>Biologic data is getting more and more complex and relying only on simplistic statistical tests to evaluate the data may leave a lot of discovery behind because the investigator didn’t know what to look for. By applying machine learning algorithms to the data, the explorer can discover new sources of variance and thus biologic meaning in data.</p>
</section>
<section id="hypothesis-testing-in-ml-and-data-modeling" class="level2">
<h2 class="anchored" data-anchor-id="hypothesis-testing-in-ml-and-data-modeling">Hypothesis Testing in ML and data modeling</h2>
<p>Hadley Wickham highlights in his <a href="https://r4ds.had.co.nz/model-intro.html">R for Data Science book</a> that data modeling can be used in exploratory data analysis that help to <em>generate new hypotheses</em> about relationships in your data. However, data modeling can also be used to go beyond exploratory data analysis and into <em>hypothesis-confirmation</em> that seeks to test if a relationship between variables and an outcome is true or to determine the disease probability of a new patient.</p>
<p>For example, predicting the outcome or group membership of a new observation in a model classification trained algorithm is considered <em>hypothesis confirmation</em>. The question does this model predict diagnosis, for example, is being asked.</p>
<p>As a result, each observation (i.e.&nbsp;sample) can either be used for exploration or confirmation, not both. you can repeat different types of comparisons, correlations, or statistics on all the data as many times as you like in exploratory data analysis. In contrast, <em>hypothesis confirmation</em> can only use an observation ONCE. As soon as you use an observation twice, you’ve switched from confirmation to exploration.</p>
<p>For example, when trying to determine if the BRCA mutation was linked to breast cancer data was collected and used for hypothesis confirmation thus all the samples collected and used only to test this hypothesis.</p>
<p>The separation of hypothesis generation from hypothesis confirmation is necessary because to confirm a hypothesis you must use data independent of the data used to generate the hypothesis. Otherwise you will be over optimistic. There is absolutely nothing wrong with exploration, but you should never sell an exploratory analysis as a confirmatory analysis because it is fundamentally misleading.”</p>
<p>– Refernce: Hadley Wickham in (R for Data Science)</p>
<p>To get around this problem, datasets are often split into separate independent “pools” of data: a training set, and a testing set, and sometimes a third set called a validation set. We didn’t do that for PCA because that was exploratory data analysis not hypothesis confirmation. However, in this lecture we will predict classification which is a hypothesis confirmation analysis and thus needs independent data to generate the model and then to test (or confirm) the model.</p>
</section>
<section id="categories-of-machine-learning-algorithms" class="level2">
<h2 class="anchored" data-anchor-id="categories-of-machine-learning-algorithms">Categories of Machine Learning Algorithms</h2>
<ul>
<li><p><strong>Supervised learning</strong> occurs when the learning algorithm is presented with labelled example inputs, where the labels indicate the desired output. Supervised learning itself is composed of classification, where the output is categorical, and regression, where the output is numerical.</p></li>
<li><p><strong>Unsupervised learning</strong> occurs when no labels are provided, and the learning algorithm focuses solely on detecting structure in unlabelled input data such as in PCA analysis and clustering single cell RNA sequencing data.</p></li>
<li><p>Note that there are also <strong>semi-supervised learning</strong> approaches that use labelled data to inform unsupervised learning on the unlabelled data to identify and annotate new classes in the dataset (also called novelty detection).</p></li>
<li><p><strong>Reinforcement learning</strong> occurs when the learning algorithm performs a task using feedback from operating in a real or synthetic environment. For example, teaching an algorithm to play chess without instructions based on the results of each decision as wins and losses.</p></li>
</ul>
<p>We will explore <strong>supervised learning</strong> algorithms.</p>
</section>
<section id="supervised-machine-learning-types" class="level2">
<h2 class="anchored" data-anchor-id="supervised-machine-learning-types">Supervised Machine Learning Types</h2>
<ul>
<li><p><strong>Classification</strong>: predicting categorical data. For example, using data to determine if a patient had heart disease based on a blood work panel. ML Algorithms used for Classification include:</p>
<ul>
<li><p>logistic regression</p></li>
<li><p>decision tree</p></li>
<li><p>random forest (a type of decision tree)</p></li>
<li><p>k nearest neighbor</p></li>
<li><p>and many more</p></li>
</ul>
<p><img src="images/ML-classification.webp" class="img-fluid"></p></li>
<li><p><strong>Regression</strong>: predicting numeric data. For example, using data to estimate an individual’s weight based on other biometic data (such as height and activity) or to predict the temperature tomorrow based on weather data. ML algorithms used for regression include:</p>
<ul>
<li><p>Linear Regression</p></li>
<li><p>Lasso Regression</p></li>
<li><p>Polynomial Regression</p></li>
<li><p>and many more</p></li>
</ul></li>
</ul>
<p><img src="images/ML-regression.webp" class="img-fluid"></p>
<p>For simplicity, we will only be looking at <strong>classification</strong> predictions.</p>
</section>
<section id="ml-algorithms-for-classification-prediction" class="level2">
<h2 class="anchored" data-anchor-id="ml-algorithms-for-classification-prediction">ML Algorithms for Classification Prediction</h2>
<p>Classification Prediction is one of the more simple ML pipelines and it can be further broken down into binary or multi-class depending on if it is a two group classification or if there are more than 2 groups. With more than two groups, there are a few alternative approaches that are used even for a binary model.</p>
<p>In simple terms, for example, in a three group classification</p>
<ul>
<li><p>Group 1 vs all other groups –&gt; yes or no</p>
<ul>
<li><p>Yes –&gt; assign Group 1</p></li>
<li><p>No –&gt; Group 2 vs Group 3 –&gt; yes or no</p>
<ul>
<li><p>Yes -&gt; assign Group 2</p></li>
<li><p>No –&gt; assign Group 3</p></li>
</ul></li>
</ul></li>
<li><p>Alternatively,</p>
<ul>
<li><p>Group 1 vs all other groups –&gt; yes or no</p></li>
<li><p>Group 2 vs all other groups –&gt; yes or no</p></li>
<li><p>Group 3 vs all other groups –&gt; yes or no</p></li>
</ul></li>
</ul>
<p>Lets look at a little more detail into a few different classification algorithms.</p>
<section id="logistic-regression" class="level3">
<h3 class="anchored" data-anchor-id="logistic-regression">Logistic Regression</h3>
<p><img src="https://towardsdatascience.com/wp-content/uploads/2022/02/125whI_Jt8LQIHhF6ds-j6Q.png" class="img-fluid"></p>
<p>Logistics regression is a classifier that uses the sigmoid function (∫) above to return the probability of a label as segregated based on some threshold. It calculates a probability that a observation falls into a specific category based on the pre-determined threshold. It is widely used when the classification problem is binary.</p>
</section>
<section id="random-forest" class="level3">
<h3 class="anchored" data-anchor-id="random-forest">Random Forest</h3>
<p><img src="https://towardsdatascience.com/wp-content/uploads/2022/02/1fsy57DtqUR_UDOTQKtghkw.png" class="img-fluid"></p>
<p>Random forest is a collection of decision trees. The steps of random forest prediction are:</p>
<ol type="1">
<li>Subsample the data to make multiple training data sets so that the data is randomly sampled making it more robust and less dependent on the training dataset.</li>
<li>Build multiple decision trees based on a subset of the data features. This way good predictors and bad predictors will be spread out and lead to more heavy weighting of the good predictors.</li>
<li>Average the outcomes of each decision tree in a winner takes all approach to determine the classification (i.e.&nbsp;from 10 trees, 8 classifeid as group A and 2 classified as group B, thus group A “wins” as the classification). Some trees will be based on good predictors and some trees on bad predictors, but on average the correct classification wins out.</li>
</ol>
<p>Random Forest has better generalization but can be less interpretable because of more layers that are added to each decision tree.</p>
<div class="callout callout-style-default callout-tip callout-titled">
<div class="callout-header d-flex align-content-center">
<div class="callout-icon-container">
<i class="callout-icon"></i>
</div>
<div class="callout-title-container flex-fill">
Tip
</div>
</div>
<div class="callout-body-container callout-body">
<p>There are LOTS of different models and often data scientist test many models then compare them to one another to build a machine learning algorithm that performs well for a specific outcome.</p>
<p>We are just scratching the surface of what is out there. Check out the references below if you want to explore the details of more ML algorithms.</p>
</div>
</div>
</section>
</section>
<section id="model-validation" class="level2">
<h2 class="anchored" data-anchor-id="model-validation">Model Validation</h2>
<p>Lastly is model validation to determine how well the ML algorithm did at predicting the ground truth. As I mentioned at the beginning you have one set of data to train a ML model, and then you can test the reliability of the model based on data the model has never seen, thus the testing or validation datasets.</p>
<p>There are several metrics used to test the validity of a predictive model. Depending on what is being tested each of the validation metrics are weighted differently. For example, if you are developing an HIV test, you want to make sure false positives are extremely low because you don’t want people to think they have HIV when they indeed do not (called specificity). In other cases, you may be ok with some degree of false positives because you do not want to miss any true positives (i.e.&nbsp;you want to minimize false negatives, called precision). An example of this could be prophylactic treatment or preventative measures. It won’t hurt someone to get the intervention that is not actually positive, but would have large benefits to true positives and you don’t want someone to miss the intervention that it could really help.</p>
<p>First you start with a <em>confusion matrix</em> which is a matrix that counts the number of true positives (TP), false positives (FP), true negatives (TN), and false negatives (FN).</p>
<p><strong>Confusion Matrix</strong></p>
<table class="caption-top table">
<thead>
<tr class="header">
<th>confusion matrix</th>
<th>TRUTH: Positive</th>
<th>TRUTH: Negative</th>
</tr>
</thead>
<tbody>
<tr class="odd">
<td><strong>Predicted Positive</strong></td>
<td>True Positive (TP)</td>
<td>False Positive (FP)</td>
</tr>
<tr class="even">
<td><strong>Predicted Negative</strong></td>
<td>False Negative (FN)</td>
<td>True Negative (TN)</td>
</tr>
</tbody>
</table>
<p>From the confusion matrix you can calculate these performance metrics</p>
<ul>
<li><p><strong>Accuracy</strong>: What percentage of all predictions are correct?</p>
<ul>
<li><p>(TP + TN) / total predictions</p></li>
<li><p>correct predictions / total predictions</p></li>
</ul></li>
<li><p><strong>Precision</strong>: What percentage of predicted positives were correct?</p>
<ul>
<li><p>TP / (TP + FP)</p></li>
<li><p>correctly predicted true positives / all predicted positives</p></li>
</ul></li>
<li><p><strong>Sensitivity</strong>: What percentage of TRUE positives were correct?</p>
<ul>
<li><p>TP / (TP + FN)</p></li>
<li><p>correctly predicted true positives / actual true positives</p></li>
</ul></li>
<li><p><strong>Specificity</strong>: What percentage of TRUE negatives were correct?</p>
<ul>
<li><p>TN / (TN + FP)</p></li>
<li><p>correctly predicted true negatives / actual true negatives</p></li>
</ul></li>
</ul>
<p>Finally, another common tool to evaluate a model’s performance is the Receiver Operating Characteristic (ROC) curve and a calculation of the area under that curve (AUC). This plots the FP ratet on the x-axis and the TP rate on the y-axis and then plots that curve for multiple models to compare them to one another. The model with the largest AUC is the best predictor. Meaning that the most TPs are captured with the fewest FPs.</p>
<div class="quarto-figure quarto-figure-left">
<figure class="figure">
<p><img src="https://cdn.prod.website-files.com/660ef16a9e0687d9cc27474a/662c42679571ef35419c9935_647607123e84a06a426ce627_classification_metrics_014-min.png" class="img-fluid quarto-figure quarto-figure-left figure-img" width="533"></p>
</figure>
</div>
</section>
<section id="performing-machine-learning-in-r" class="level2">
<h2 class="anchored" data-anchor-id="performing-machine-learning-in-r">Performing Machine Learning in R</h2>
<div class="quarto-figure quarto-figure-right">
<figure class="figure">
<p><img src="images/tidymodels.png" class="img-fluid quarto-figure quarto-figure-right figure-img" width="123"></p>
</figure>
</div>
<p>Similar to tidyverse, tidymodels is a suite of tools used to easily apply machine learning algorithms to your data applying similar tidy principles that we’ve covered in class. We won’t go into as much detail as with tidyverse, but below is an overview of some of the included packages.</p>
<ul>
<li><p><code>rsample</code>: split data into training, testing, validation, and more</p></li>
<li><p><code>recipes</code>: pre-process data for feeding into ML algorithms</p></li>
<li><p><code>parsnip</code>: build the machine learning algorithms</p></li>
<li><p><code>workflows</code>: assemble workflows that integrates the recipes and algorithms</p></li>
<li><p><code>tune</code> &amp; <code>dials</code>: refine the parameters of machine learning algorithms to help with optimization</p></li>
<li><p><code>yardstick</code>: calculate performance metrics of machine learning algorithms</p></li>
<li><p><code>broom</code>: tidy the outputs machine learning algorithms and statistical measures into tidy-friendly syntax</p></li>
</ul>
<p>In-class we will go through an <a href="https://lindsaynhayes.github.io/introR2025/activities/classwork06/Pred_Penguins.html">example</a> of these workflows. We will use the <code>penguins</code> dataset to predict the species based on the penguin biometric data.</p>
</section>
<section id="resources" class="level2">
<h2 class="anchored" data-anchor-id="resources">Resources:</h2>
<p><a href="https://lgatto.github.io/IntroMachineLearningWithR/index.html" class="uri">https://lgatto.github.io/IntroMachineLearningWithR/index.html</a></p>
<p><a href="https://www.datacamp.com/blog/classification-machine-learning" class="uri">https://www.datacamp.com/blog/classification-machine-learning</a></p>
<p><a href="https://www.stepbystepdatascience.com/ml-with-tidymodels" class="uri">https://www.stepbystepdatascience.com/ml-with-tidymodels</a></p>
<p><a href="https://towardsdatascience.com/top-machine-learning-algorithms-for-classification-2197870ff501/" class="uri">https://towardsdatascience.com/top-machine-learning-algorithms-for-classification-2197870ff501/</a></p>
<p><a href="https://towardsdatascience.com/top-machine-learning-algorithms-for-regression-c67258a2c0ac/" class="uri">https://towardsdatascience.com/top-machine-learning-algorithms-for-regression-c67258a2c0ac/</a></p>
<p>Greener, J.G., Kandathil, S.M., Moffat, L. <em>et al.</em> A guide to machine learning for biologists. <em>Nat Rev Mol Cell Biol</em> 23, 40–55 (2022). <a href="https://doi.org/10.1038/s41580-021-00407-0">link</a></p>


</section>
</section>

</main> <!-- /main -->
<script id="quarto-html-after-body" type="application/javascript">
  window.document.addEventListener("DOMContentLoaded", function (event) {
    const icon = "";
    const anchorJS = new window.AnchorJS();
    anchorJS.options = {
      placement: 'right',
      icon: icon
    };
    anchorJS.add('.anchored');
    const isCodeAnnotation = (el) => {
      for (const clz of el.classList) {
        if (clz.startsWith('code-annotation-')) {                     
          return true;
        }
      }
      return false;
    }
    const onCopySuccess = function(e) {
      // button target
      const button = e.trigger;
      // don't keep focus
      button.blur();
      // flash "checked"
      button.classList.add('code-copy-button-checked');
      var currentTitle = button.getAttribute("title");
      button.setAttribute("title", "Copied!");
      let tooltip;
      if (window.bootstrap) {
        button.setAttribute("data-bs-toggle", "tooltip");
        button.setAttribute("data-bs-placement", "left");
        button.setAttribute("data-bs-title", "Copied!");
        tooltip = new bootstrap.Tooltip(button, 
          { trigger: "manual", 
            customClass: "code-copy-button-tooltip",
            offset: [0, -8]});
        tooltip.show();    
      }
      setTimeout(function() {
        if (tooltip) {
          tooltip.hide();
          button.removeAttribute("data-bs-title");
          button.removeAttribute("data-bs-toggle");
          button.removeAttribute("data-bs-placement");
        }
        button.setAttribute("title", currentTitle);
        button.classList.remove('code-copy-button-checked');
      }, 1000);
      // clear code selection
      e.clearSelection();
    }
    const getTextToCopy = function(trigger) {
        const codeEl = trigger.previousElementSibling.cloneNode(true);
        for (const childEl of codeEl.children) {
          if (isCodeAnnotation(childEl)) {
            childEl.remove();
          }
        }
        return codeEl.innerText;
    }
    const clipboard = new window.ClipboardJS('.code-copy-button:not([data-in-quarto-modal])', {
      text: getTextToCopy
    });
    clipboard.on('success', onCopySuccess);
    if (window.document.getElementById('quarto-embedded-source-code-modal')) {
      const clipboardModal = new window.ClipboardJS('.code-copy-button[data-in-quarto-modal]', {
        text: getTextToCopy,
        container: window.document.getElementById('quarto-embedded-source-code-modal')
      });
      clipboardModal.on('success', onCopySuccess);
    }
      var localhostRegex = new RegExp(/^(?:http|https):\/\/localhost\:?[0-9]*\//);
      var mailtoRegex = new RegExp(/^mailto:/);
        var filterRegex = new RegExp("https:\/\/lindsaynhayes\.github\.io\/introR2025\/");
      var isInternal = (href) => {
          return filterRegex.test(href) || localhostRegex.test(href) || mailtoRegex.test(href);
      }
      // Inspect non-navigation links and adorn them if external
     var links = window.document.querySelectorAll('a[href]:not(.nav-link):not(.navbar-brand):not(.toc-action):not(.sidebar-link):not(.sidebar-item-toggle):not(.pagination-link):not(.no-external):not([aria-hidden]):not(.dropdown-item):not(.quarto-navigation-tool):not(.about-link)');
      for (var i=0; i<links.length; i++) {
        const link = links[i];
        if (!isInternal(link.href)) {
          // undo the damage that might have been done by quarto-nav.js in the case of
          // links that we want to consider external
          if (link.dataset.originalHref !== undefined) {
            link.href = link.dataset.originalHref;
          }
        }
      }
    function tippyHover(el, contentFn, onTriggerFn, onUntriggerFn) {
      const config = {
        allowHTML: true,
        maxWidth: 500,
        delay: 100,
        arrow: false,
        appendTo: function(el) {
            return el.parentElement;
        },
        interactive: true,
        interactiveBorder: 10,
        theme: 'quarto',
        placement: 'bottom-start',
      };
      if (contentFn) {
        config.content = contentFn;
      }
      if (onTriggerFn) {
        config.onTrigger = onTriggerFn;
      }
      if (onUntriggerFn) {
        config.onUntrigger = onUntriggerFn;
      }
      window.tippy(el, config); 
    }
    const noterefs = window.document.querySelectorAll('a[role="doc-noteref"]');
    for (var i=0; i<noterefs.length; i++) {
      const ref = noterefs[i];
      tippyHover(ref, function() {
        // use id or data attribute instead here
        let href = ref.getAttribute('data-footnote-href') || ref.getAttribute('href');
        try { href = new URL(href).hash; } catch {}
        const id = href.replace(/^#\/?/, "");
        const note = window.document.getElementById(id);
        if (note) {
          return note.innerHTML;
        } else {
          return "";
        }
      });
    }
    const xrefs = window.document.querySelectorAll('a.quarto-xref');
    const processXRef = (id, note) => {
      // Strip column container classes
      const stripColumnClz = (el) => {
        el.classList.remove("page-full", "page-columns");
        if (el.children) {
          for (const child of el.children) {
            stripColumnClz(child);
          }
        }
      }
      stripColumnClz(note)
      if (id === null || id.startsWith('sec-')) {
        // Special case sections, only their first couple elements
        const container = document.createElement("div");
        if (note.children && note.children.length > 2) {
          container.appendChild(note.children[0].cloneNode(true));
          for (let i = 1; i < note.children.length; i++) {
            const child = note.children[i];
            if (child.tagName === "P" && child.innerText === "") {
              continue;
            } else {
              container.appendChild(child.cloneNode(true));
              break;
            }
          }
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(container);
          }
          return container.innerHTML
        } else {
          if (window.Quarto?.typesetMath) {
            window.Quarto.typesetMath(note);
          }
          return note.innerHTML;
        }
      } else {
        // Remove any anchor links if they are present
        const anchorLink = note.querySelector('a.anchorjs-link');
        if (anchorLink) {
          anchorLink.remove();
        }
        if (window.Quarto?.typesetMath) {
          window.Quarto.typesetMath(note);
        }
        if (note.classList.contains("callout")) {
          return note.outerHTML;
        } else {
          return note.innerHTML;
        }
      }
    }
    for (var i=0; i<xrefs.length; i++) {
      const xref = xrefs[i];
      tippyHover(xref, undefined, function(instance) {
        instance.disable();
        let url = xref.getAttribute('href');
        let hash = undefined; 
        if (url.startsWith('#')) {
          hash = url;
        } else {
          try { hash = new URL(url).hash; } catch {}
        }
        if (hash) {
          const id = hash.replace(/^#\/?/, "");
          const note = window.document.getElementById(id);
          if (note !== null) {
            try {
              const html = processXRef(id, note.cloneNode(true));
              instance.setContent(html);
            } finally {
              instance.enable();
              instance.show();
            }
          } else {
            // See if we can fetch this
            fetch(url.split('#')[0])
            .then(res => res.text())
            .then(html => {
              const parser = new DOMParser();
              const htmlDoc = parser.parseFromString(html, "text/html");
              const note = htmlDoc.getElementById(id);
              if (note !== null) {
                const html = processXRef(id, note);
                instance.setContent(html);
              } 
            }).finally(() => {
              instance.enable();
              instance.show();
            });
          }
        } else {
          // See if we can fetch a full url (with no hash to target)
          // This is a special case and we should probably do some content thinning / targeting
          fetch(url)
          .then(res => res.text())
          .then(html => {
            const parser = new DOMParser();
            const htmlDoc = parser.parseFromString(html, "text/html");
            const note = htmlDoc.querySelector('main.content');
            if (note !== null) {
              // This should only happen for chapter cross references
              // (since there is no id in the URL)
              // remove the first header
              if (note.children.length > 0 && note.children[0].tagName === "HEADER") {
                note.children[0].remove();
              }
              const html = processXRef(null, note);
              instance.setContent(html);
            } 
          }).finally(() => {
            instance.enable();
            instance.show();
          });
        }
      }, function(instance) {
      });
    }
        let selectedAnnoteEl;
        const selectorForAnnotation = ( cell, annotation) => {
          let cellAttr = 'data-code-cell="' + cell + '"';
          let lineAttr = 'data-code-annotation="' +  annotation + '"';
          const selector = 'span[' + cellAttr + '][' + lineAttr + ']';
          return selector;
        }
        const selectCodeLines = (annoteEl) => {
          const doc = window.document;
          const targetCell = annoteEl.getAttribute("data-target-cell");
          const targetAnnotation = annoteEl.getAttribute("data-target-annotation");
          const annoteSpan = window.document.querySelector(selectorForAnnotation(targetCell, targetAnnotation));
          const lines = annoteSpan.getAttribute("data-code-lines").split(",");
          const lineIds = lines.map((line) => {
            return targetCell + "-" + line;
          })
          let top = null;
          let height = null;
          let parent = null;
          if (lineIds.length > 0) {
              //compute the position of the single el (top and bottom and make a div)
              const el = window.document.getElementById(lineIds[0]);
              top = el.offsetTop;
              height = el.offsetHeight;
              parent = el.parentElement.parentElement;
            if (lineIds.length > 1) {
              const lastEl = window.document.getElementById(lineIds[lineIds.length - 1]);
              const bottom = lastEl.offsetTop + lastEl.offsetHeight;
              height = bottom - top;
            }
            if (top !== null && height !== null && parent !== null) {
              // cook up a div (if necessary) and position it 
              let div = window.document.getElementById("code-annotation-line-highlight");
              if (div === null) {
                div = window.document.createElement("div");
                div.setAttribute("id", "code-annotation-line-highlight");
                div.style.position = 'absolute';
                parent.appendChild(div);
              }
              div.style.top = top - 2 + "px";
              div.style.height = height + 4 + "px";
              div.style.left = 0;
              let gutterDiv = window.document.getElementById("code-annotation-line-highlight-gutter");
              if (gutterDiv === null) {
                gutterDiv = window.document.createElement("div");
                gutterDiv.setAttribute("id", "code-annotation-line-highlight-gutter");
                gutterDiv.style.position = 'absolute';
                const codeCell = window.document.getElementById(targetCell);
                const gutter = codeCell.querySelector('.code-annotation-gutter');
                gutter.appendChild(gutterDiv);
              }
              gutterDiv.style.top = top - 2 + "px";
              gutterDiv.style.height = height + 4 + "px";
            }
            selectedAnnoteEl = annoteEl;
          }
        };
        const unselectCodeLines = () => {
          const elementsIds = ["code-annotation-line-highlight", "code-annotation-line-highlight-gutter"];
          elementsIds.forEach((elId) => {
            const div = window.document.getElementById(elId);
            if (div) {
              div.remove();
            }
          });
          selectedAnnoteEl = undefined;
        };
          // Handle positioning of the toggle
      window.addEventListener(
        "resize",
        throttle(() => {
          elRect = undefined;
          if (selectedAnnoteEl) {
            selectCodeLines(selectedAnnoteEl);
          }
        }, 10)
      );
      function throttle(fn, ms) {
      let throttle = false;
      let timer;
        return (...args) => {
          if(!throttle) { // first call gets through
              fn.apply(this, args);
              throttle = true;
          } else { // all the others get throttled
              if(timer) clearTimeout(timer); // cancel #2
              timer = setTimeout(() => {
                fn.apply(this, args);
                timer = throttle = false;
              }, ms);
          }
        };
      }
        // Attach click handler to the DT
        const annoteDls = window.document.querySelectorAll('dt[data-target-cell]');
        for (const annoteDlNode of annoteDls) {
          annoteDlNode.addEventListener('click', (event) => {
            const clickedEl = event.target;
            if (clickedEl !== selectedAnnoteEl) {
              unselectCodeLines();
              const activeEl = window.document.querySelector('dt[data-target-cell].code-annotation-active');
              if (activeEl) {
                activeEl.classList.remove('code-annotation-active');
              }
              selectCodeLines(clickedEl);
              clickedEl.classList.add('code-annotation-active');
            } else {
              // Unselect the line
              unselectCodeLines();
              clickedEl.classList.remove('code-annotation-active');
            }
          });
        }
    const findCites = (el) => {
      const parentEl = el.parentElement;
      if (parentEl) {
        const cites = parentEl.dataset.cites;
        if (cites) {
          return {
            el,
            cites: cites.split(' ')
          };
        } else {
          return findCites(el.parentElement)
        }
      } else {
        return undefined;
      }
    };
    var bibliorefs = window.document.querySelectorAll('a[role="doc-biblioref"]');
    for (var i=0; i<bibliorefs.length; i++) {
      const ref = bibliorefs[i];
      const citeInfo = findCites(ref);
      if (citeInfo) {
        tippyHover(citeInfo.el, function() {
          var popup = window.document.createElement('div');
          citeInfo.cites.forEach(function(cite) {
            var citeDiv = window.document.createElement('div');
            citeDiv.classList.add('hanging-indent');
            citeDiv.classList.add('csl-entry');
            var biblioDiv = window.document.getElementById('ref-' + cite);
            if (biblioDiv) {
              citeDiv.innerHTML = biblioDiv.innerHTML;
            }
            popup.appendChild(citeDiv);
          });
          return popup.innerHTML;
        });
      }
    }
  });
  </script>
</div> <!-- /content -->




</body></html>